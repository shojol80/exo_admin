{"version":3,"sources":["webpack:///./src/views/maintenance/Maintenance.vue","webpack:///./src/components/ExecuteProcess/ExecuteProcess.vue","webpack:///./src/components/BaseWidget.vue","webpack:///src/components/BaseWidget.vue","webpack:///./src/components/BaseWidget.vue?e43f","webpack:///./src/components/BaseWidget.vue?e412","webpack:///./src/components/LogOutput.vue","webpack:///../modules/utils/formatLog.js","webpack:///src/components/LogOutput.vue","webpack:///./src/components/LogOutput.vue?7643","webpack:///./src/components/LogOutput.vue?35e1","webpack:///src/components/ExecuteProcess/ExecuteProcess.vue","webpack:///./src/components/ExecuteProcess/ExecuteProcess.vue?a3e2","webpack:///./src/components/ExecuteProcess/ExecuteProcess.vue?6435","webpack:///src/views/maintenance/Maintenance.vue","webpack:///./src/views/maintenance/Maintenance.vue?ce95","webpack:///./src/views/maintenance/Maintenance.vue?a04a","webpack:///./src/components/ExecuteProcess/ExecuteProcess.vue?9d97"],"names":["render","_vm","this","_c","_self","staticClass","attrs","processId","staticRenderFns","on","$event","stopPropagation","execute","apply","arguments","processes","model","value","process","callback","$$v","expression","_v","_s","description","showAside","loading","log","title","_t","name","props","type","String","required","component","formatLog","Array","isArray","map","item","_typeof","formatted","level","message","concat","join","computed","components","BaseWidget","LogOutput","data","undefined","ECO","maintenance","watch","setProcessById","mounted","methods","id","find","i","_execute","_asyncToGenerator","regeneratorRuntime","mark","_callee","event","wrap","_context","prev","next","dialogComponent","$dialogs","showComponent","sent","confirm","okTitle","trigger","abrupt","Api","post","api","finish","stop","ExecuteProcess"],"mappings":"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","file":"js/chunk-5b4d0fc5.54223ec2.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('app-screen',{staticClass:\"animated fadeIn\"},[_c('b-row',{staticClass:\"mt-3\"},[_c('b-col',{attrs:{\"sm\":\"12\",\"md\":\"4\"}},[_c('execute-process',{attrs:{\"process-id\":_vm.processId}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('base-widget',{staticClass:\"execute-process\",attrs:{\"title\":\"Perform maintenance\"},on:{\"execute\":function($event){$event.stopPropagation();return _vm.execute.apply(null, arguments)}}},[_c('div',{staticClass:\"d-flex mt-3\"},[_c('x-select',{staticClass:\"flex-fill\",attrs:{\"valueFormat\":\"object\",\"multiple\":false,\"options\":_vm.processes,\"id-key\":\"id\",\"label-key\":\"title\"},model:{value:(_vm.process),callback:function ($$v) {_vm.process=$$v},expression:\"process\"}}),_c('b-button',{staticClass:\"ml-3\",attrs:{\"variant\":\"primary\",\"disabled\":!_vm.process},on:{\"click\":_vm.execute}},[_vm._v(\"Execute\")])],1),_c('div',{staticClass:\"execute-process__desc text-muted mt-3\"},[_vm._v(\"\\n        \"+_vm._s(_vm.process ? _vm.process.description : '')+\"\\n    \")]),_c('aside-panel',{model:{value:(_vm.showAside),callback:function ($$v) {_vm.showAside=$$v},expression:\"showAside\"}},[_c('waiter',{attrs:{\"show\":_vm.loading}},[_c('log-output',{staticClass:\"log-aside-output\",attrs:{\"log\":_vm.log}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-card',{attrs:{\"title\":_vm.title,\"border-variant\":\"primary\"}},[_c('b-card-text',[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-card :title=title border-variant=\"primary\">\n        <b-card-text>\n            <slot></slot>\n        </b-card-text>\n    </b-card>\n</template>\n\n<script>\nexport default {\n    name: 'BaseWidget',\n    props: {\n        title: {\n            type: String,\n            required: true,\n        }\n    },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseWidget.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseWidget.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BaseWidget.vue?vue&type=template&id=0fb52958&scoped=true\"\nimport script from \"./BaseWidget.vue?vue&type=script&lang=js\"\nexport * from \"./BaseWidget.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fb52958\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-textarea',{staticClass:\"log-output\",attrs:{\"readonly\":\"\",\"rows\":\"20\",\"value\":_vm.formatLog}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function (log) {\n    if (Array.isArray(log)) {\n        return log.map((item) => {\n            if (typeof item === 'object' && item.formatted){\n                return item.formatted\n            }\n            else if (typeof item === 'object' && item.level) {\n                return `[${item.level}] ${item.message}`\n            } else if (typeof item === 'object' && item.message) {\n                return `[${item.level}] ${item.message}`\n            } else {\n                return item\n            }\n        }).join('\\n');\n    }\n    return log\n}","<template>\n    <b-textarea readonly class=\"log-output\" rows=\"20\" :value=\"formatLog\"></b-textarea>\n</template>\n\n<script>\nimport formatLog from '@modules/utils/formatLog'\n\nexport default {\n    name: \"LogOutput\",\n    props: {\n        log: {\n            required: true\n        }\n    },\n    computed: {\n        formatLog() {\n            return formatLog(this.log)\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogOutput.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogOutput.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LogOutput.vue?vue&type=template&id=8e403292&scoped=true\"\nimport script from \"./LogOutput.vue?vue&type=script&lang=js\"\nexport * from \"./LogOutput.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e403292\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <base-widget class=\"execute-process\"\n                 title=\"Perform maintenance\"\n                 @execute.stop=\"execute\">\n        <div class=\"d-flex mt-3\">\n            <x-select\n                class=\"flex-fill\"\n                valueFormat=\"object\"\n                :multiple=\"false\"\n                v-model=\"process\"\n                :options=\"processes\"\n                id-key=\"id\"\n                label-key=\"title\">\n            </x-select>\n            <b-button class=\"ml-3\" variant=\"primary\" :disabled=\"!process\" @click=\"execute\">Execute</b-button>\n        </div>\n        <div class=\"execute-process__desc text-muted mt-3\">\n            {{ process ? process.description : '' }}\n        </div>\n        <aside-panel v-model=\"showAside\">\n            <waiter :show=\"loading\">\n                <log-output class=\"log-aside-output\" :log=\"log\"></log-output>\n            </waiter>\n        </aside-panel>\n    </base-widget>\n\n</template>\n\n<script>\n\nimport Api from '@/services/api/Api'\nimport BaseWidget from \"@/components/BaseWidget\";\nimport LogOutput from \"@/components/LogOutput\";\n\nexport default {\n    name: 'ExecuteProcess',\n    components: {BaseWidget, LogOutput},\n    props: ['processId'],\n    data() {\n        return {\n            process: undefined,\n            log: [],\n            loading: false,\n            showAside: false,\n        }\n    },\n    computed: {\n        processes() {\n            return this.ECO.maintenance.processes\n        }\n    },\n    watch: {\n        processId() {\n            this.setProcessById(this.processId)\n        }\n    },\n    mounted() {\n        if (this.processId) {\n            this.setProcessById(this.processId)\n        }\n    },\n    methods: {\n        setProcessById(id) {\n\n            this.process = this.processes.find(i => i.id === id)\n        },\n        async execute() {\n            this.log = []\n            let event\n            if (this.process.dialogComponent) {\n                event = await this.$dialogs.showComponent(this.process.dialogComponent)\n            } else {\n                event = await this.$dialogs.confirm({\n                    okTitle: 'EXECUTE',\n                    message: `Are you sure you want to execute \"${this.process.title}\" process?`\n                })\n            }\n\n            if (event.trigger !== 'ok') return\n\n            this.loading = true;\n            this.showAside = true;\n            try {\n                let data = await Api.post(this.process.api, event.value);\n                this.log = data.log\n            } finally {\n                this.loading = false\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"src/assets/scss/vue-component\";\n\n.execute-process {\n    &__desc {\n        min-height: 50px;\n        width: 80%;\n    }\n}\n\n.log-aside-output.form-control {\n    margin-top: 1rem;\n    height: calc(100vh - #{$action-toolbar-height} - 2rem);\n}\n\n.mode-popup .aside-panel {\n    .log-aside-output.form-control {\n        height: calc(100vh - #{$action-toolbar-height} - #{$popup-header-height} - 2rem);\n    }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExecuteProcess.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExecuteProcess.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ExecuteProcess.vue?vue&type=template&id=df21479a\"\nimport script from \"./ExecuteProcess.vue?vue&type=script&lang=js\"\nexport * from \"./ExecuteProcess.vue?vue&type=script&lang=js\"\nimport style0 from \"./ExecuteProcess.vue?vue&type=style&index=0&id=df21479a&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <app-screen class=\"animated fadeIn\">\n        <b-row class=\"mt-3\">\n            <b-col sm=\"12\" md=\"4\">\n                <execute-process :process-id=\"processId\"/>\n            </b-col>\n        </b-row>\n    </app-screen>\n</template>\n\n<script>\n\nimport ExecuteProcess from \"@/components/ExecuteProcess/ExecuteProcess\";\n\nexport default {\n    name: 'Maintenance',\n    props: ['processId'],\n    components: {ExecuteProcess},\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maintenance.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Maintenance.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Maintenance.vue?vue&type=template&id=1c14e366\"\nimport script from \"./Maintenance.vue?vue&type=script&lang=js\"\nexport * from \"./Maintenance.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExecuteProcess.vue?vue&type=style&index=0&id=df21479a&prod&lang=scss\""],"sourceRoot":""}