{"version":3,"sources":["webpack:///./src/mixins/GroupTree.js","webpack:///./src/mixins/showGroupTree.js","webpack:///./src/views/users/Users.vue","webpack:///./src/views/users/parties/UserGroupTree.vue","webpack:///src/views/users/parties/UserGroupTree.vue","webpack:///./src/views/users/parties/UserGroupTree.vue?eec6","webpack:///./src/views/users/parties/UserGroupTree.vue?6125","webpack:///src/views/users/Users.vue","webpack:///./src/views/users/Users.vue?9dc3","webpack:///./src/views/users/Users.vue?72a2"],"names":["methods","selectByRoute","params","_this","this","$nextTick","tree","$refs","xtree","selected","length","nodes","find","id","$route","query","parent","selectAndExpand","computed","showGroupTree","$store","getters","meta","hideTreeInPopup","render","_vm","_c","_self","slot","staticClass","_e","staticRenderFns","ref","attrs","groupsTree","options","on","onAdd","onEdit","onDelete","onClick","name","mixins","GroupTree","data","customNodeEdit","propertyNames","text","children","ug_name","ug_children","ug_id","state","type","watch","groupTree","immediate","deep","handler","to","from","mounted","node","select","$router","push","R_USERGROUP_EDIT","ug_parent","_onDelete","_asyncToGenerator","regeneratorRuntime","mark","_callee2","response","wrap","_context2","prev","next","$dialogs","confirmDelete","title","message","concat","sent","trigger","R_USERS_TABLE","waiter","wait","_callee","_context","users","deleteUsergroup","stop","_x","apply","arguments","component","components","UserGroupTree","updatebreadcrumb"],"mappings":"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","file":"js/chunk-77e46910.cdbaeecd.js","sourcesContent":["export default {\n    methods: {\n        selectByRoute(params) {\n            this.$nextTick(() => {\n                let tree = this.$refs.xtree.tree\n                if (tree.selected().length > 0) return\n                let nodes = tree.find({\n                    id: +this.$route.params[params.id]\n                })\n\n                if (!nodes || nodes.length === 0) {\n                    nodes = tree.find({\n                        id: +this.$route.query[params.parent]\n                    })\n                }\n\n                if (!nodes || nodes.length === 0) {\n                    nodes = tree.find({\n                        id: '0'\n                    })\n                }\n\n                if (nodes && nodes.length > 0) {\n                    this.$refs.xtree.selectAndExpand(nodes[0])\n                }\n            })\n        }\n    }\n}\n","export default {\n    computed: {\n        showGroupTree() {\n            return !(this.$store.getters['app/screenMode'] === 'POPUP' && this.$route.meta.hideTreeInPopup)\n        }\n    },\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('app-screen',[(_vm.showGroupTree)?_c('template',{slot:\"aside\"},[_c('user-group-tree',{staticClass:\"mt-3\"})],1):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('waiter',{ref:\"waiter\"},[_c('x-tree',{ref:\"xtree\",attrs:{\"data\":_vm.groupsTree,\"options\":_vm.options},on:{\"add\":_vm.onAdd,\"edit\":_vm.onEdit,\"delete\":_vm.onDelete,\"click\":_vm.onClick}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <waiter ref=\"waiter\">\n        <x-tree\n            ref=\"xtree\"\n            :data=\"groupsTree\"\n            :options=\"options\"\n            @add=\"onAdd\"\n            @edit=\"onEdit\"\n            @delete=\"onDelete\"\n            @click=\"onClick\"\n        >\n        </x-tree>\n    </waiter>\n</template>\n\n<script>\nimport {R_USERGROUP_EDIT, R_USERS_TABLE} from \"@/router/routs\"\nimport users from '@/services/api/users'\nimport GroupTree from '@/mixins/GroupTree'\n\nexport default {\n    name: \"UserGroupTree\",\n    mixins: [GroupTree],\n    data() {\n        return {\n            options: {\n                customNodeEdit: true,\n                propertyNames: {\n                    text: 'ug_name',\n                    children: 'ug_children',\n                    id: 'ug_id'\n                }\n            },\n        }\n    },\n    computed: {\n        groupsTree() {\n            return [{\n                ug_name: 'All Users',\n                ug_children: this.$store.getters['usergroups/usergroupsTree'],\n                ug_id: '0',\n                state: {\n                    \"selected\": false,\n                    \"selectable\": true,\n                    \"checked\": false,\n                    \"expanded\": true,\n                    \"indeterminate\": false,\n                    \"matched\": false,\n                    \"editable\": false,\n                    \"deleteble\": false,\n                    \"append\": true,\n                    \"dragging\": false,\n                    \"draggable\": false,\n                    \"dropable\": true\n                },\n                data: {\n                    type: 'root'\n                }\n            }]\n        },\n    },\n    watch: {\n        groupTree: {\n            immediate: true,\n            deep: true,\n            handler() {\n                this.selectByRoute({id: 'ug_id', parent: 'ug_parent'})\n            }\n        },\n        '$route'(to, from) {\n            this.selectByRoute({id: 'ug_id', parent: 'ug_parent'})\n        }\n    },\n    mounted() {\n        this.selectByRoute({id: 'ug_id', parent: 'ug_parent'})\n    },\n    methods: {\n        onAdd(node) {\n            node.select()\n            this.$router.push({\n                name: R_USERGROUP_EDIT, params: {ug_id: 'new'}, query: {ug_parent: node.id}\n            })\n        },\n\n        onEdit(node) {\n            node.select()\n            this.$router.push({\n                name: R_USERGROUP_EDIT, params: {ug_id: node.id}\n            })\n        },\n\n        async onDelete(node) {\n            const response = await this.$dialogs.confirmDelete({\n                title: 'Delete Node',\n                message: `Are you sure want to delete group \"${node.data.text}\"?`\n            })\n            if (response.trigger === 'ok') {\n                //go up if current group selected\n                if (this.$route.params.ug_id === node.id) {\n                    await this.$router.push({name: R_USERS_TABLE, params: {ug_id: node.parent.id}})\n                }\n                await this.$refs.waiter.wait(async () => {\n                    await users.deleteUsergroup({ug_id: node.id})\n                });\n            }\n        },\n\n        onClick(node) {\n            this.$router.push({\n                name: R_USERS_TABLE, params: {ug_id: node.id}\n            })\n        },\n    },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserGroupTree.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserGroupTree.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserGroupTree.vue?vue&type=template&id=19313d5e\"\nimport script from \"./UserGroupTree.vue?vue&type=script&lang=js\"\nexport * from \"./UserGroupTree.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <app-screen>\n        <template slot=\"aside\" v-if=\"showGroupTree\">\n            <user-group-tree class=\"mt-3\"></user-group-tree>\n        </template>\n    </app-screen>\n</template>\n\n<script>\n\nimport UserGroupTree from '@/views/users/parties/UserGroupTree'\nimport showGroupTree from '@/mixins/showGroupTree'\n\nexport default {\n    name: 'Users',\n    mixins: [showGroupTree],\n    components: {\n        UserGroupTree,\n    },\n    watch: {\n        '$route'(to, from) {\n            //this.updatebreadcrumb()\n        }\n    },\n\n    methods: {\n        updatebreadcrumb() {\n\n        }\n    },\n\n    mounted() {\n    }\n}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=3359e9db\"\nimport script from \"./Users.vue?vue&type=script&lang=js\"\nexport * from \"./Users.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}