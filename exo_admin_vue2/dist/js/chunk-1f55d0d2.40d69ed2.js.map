{"version":3,"sources":["webpack:///./src/components/XQueryBuilder/XQueryBuilder.vue","webpack:///src/components/XQueryBuilder/XQueryBuilder.vue","webpack:///./src/components/XQueryBuilder/XQueryBuilder.vue?2d9f","webpack:///./src/components/XQueryBuilder/XQueryBuilder.vue?37ff","webpack:///./src/components/Controller/components/formActions/RuleBuilder.vue?f192","webpack:///./src/components/Controller/ControllerFormActions.vue","webpack:///./src/components/Controller/components/formActions/RedirectFormActions.vue","webpack:///./src/components/Controller/components/formActions/mixins/formActions.js","webpack:///src/components/Controller/components/formActions/RedirectFormActions.vue","webpack:///./src/components/Controller/components/formActions/RedirectFormActions.vue?30ab","webpack:///./src/components/Controller/components/formActions/RedirectFormActions.vue?26e5","webpack:///./src/components/Controller/components/formActions/MailFormActions.vue","webpack:///src/components/Controller/components/formActions/MailFormActions.vue","webpack:///./src/components/Controller/components/formActions/MailFormActions.vue?28c5","webpack:///./src/components/Controller/components/formActions/MailFormActions.vue?641f","webpack:///src/components/Controller/ControllerFormActions.vue","webpack:///./src/components/Controller/ControllerFormActions.vue?5b88","webpack:///./src/components/Controller/ControllerFormActions.vue?aa80","webpack:///./src/components/Controller/components/formActions/RuleBuilder.vue","webpack:///./src/components/Controller/components/formActions/FieldRuleInput.vue","webpack:///src/components/Controller/components/formActions/FieldRuleInput.vue","webpack:///./src/components/Controller/components/formActions/FieldRuleInput.vue?12a1","webpack:///./src/components/Controller/components/formActions/FieldRuleInput.vue?f027","webpack:///./src/components/Controller/components/formActions/RuleAdapter.vue","webpack:///../modules/utils/ruleToQuery.js","webpack:///../modules/utils/queryToRule.js","webpack:///src/components/Controller/components/formActions/RuleAdapter.vue","webpack:///./src/components/Controller/components/formActions/RuleAdapter.vue?da15","webpack:///./src/components/Controller/components/formActions/RuleAdapter.vue?2ef1","webpack:///src/components/Controller/components/formActions/RuleBuilder.vue","webpack:///./src/components/Controller/components/formActions/RuleBuilder.vue?1270","webpack:///./src/components/Controller/components/formActions/RuleBuilder.vue?2c27","webpack:///./src/components/Controller/components/formActions/MailFormActions.vue?b357","webpack:///./src/components/XQueryBuilder/XQueryBuilder.vue?99dd"],"names":["render","_vm","this","_c","_self","_g","_b","staticClass","scopedSlots","_u","_l","$scopedSlots","_","name","key","fn","slotData","_t","$attrs","$listeners","$slots","staticRenderFns","components","VueQueryBuilder","component","ref","attrs","backRoute","$icons","save","on","reload","load","ruleComponent","tag","model","value","rule_use_for_redir","callback","$$v","expression","rule_redir_param","computed","form","form_id","$store","getters","undefined","form_questions","fqtArrayId","rules","mixins","formActions","RuleBuilder","data","get","isEmpty","set","commit","rule","rule_redir_event","sendToOptions","rule_send_type","rule_send_fields","rule_send_email","rule_send_groups","rule_image_linked","attach_fields","length","item","fq_name","getFileAttachValue","$event","setFileAttachValue","_v","_s","text","split","join","rule_file_attach","_this","filter","fq","fq_type","fqt_name","methods","includes","concat","_toConsumableArray","MailFormActions","RedirectFormActions","props","react_id","required","R_CONTROLLER","react","react_form_name","react_form","rulesName","watch","handler","_handler","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","mounted","_load","_callee2","_context2","abrupt","$refs","waiter","wait","dispatch","rules_name","_save","_callee3","_context3","rulesDefinition","rule_operator","rule_if","directives","rawName","show","$parent","query","operator","operatorsQuery","ruleToQuery","_ref","children","reduce","push","type","field_name","operand","exp","field_value","logicalOperator","operatorsRule","queryToRule","XQueryBuilder","prop","event","Array","default","String","deep","immediate","isEqual","$emit","RuleAdapter","id","label","choices","map","operators","FieldRuleInput"],"mappings":"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","file":"js/chunk-1f55d0d2.40d69ed2.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('vue-query-builder',_vm._g(_vm._b({staticClass:\"x-query-builder\",scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(_,name){return {key:name,fn:function(slotData){return [_vm._t(name,null,null,slotData)]}}})],null,true)},'vue-query-builder',_vm.$attrs,false),_vm.$listeners),[_vm._l((_vm.$slots),function(_,name){return _vm._t(name,null,{\"slot\":name})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <vue-query-builder v-bind=\"$attrs\" v-on=\"$listeners\" class=\"x-query-builder\">\n        <slot v-for=\"(_, name) in $slots\" :name=\"name\" :slot=\"name\"/>\n        <template v-for=\"(_, name) in $scopedSlots\" :slot=\"name\" slot-scope=\"slotData\">\n            <slot :name=\"name\" v-bind=\"slotData\"/>\n        </template>\n    </vue-query-builder>\n</template>\n\n<script>\n\nimport \"vue-query-builder/dist/VueQueryBuilder.css\"\nimport VueQueryBuilder from \"vue-query-builder\";\n\nexport default {\n    name: \"XQueryBuilder\",\n    components: {\n        VueQueryBuilder,\n    },\n}\n\n</script>\n\n<style lang=\"scss\">\n@import \"src/assets/scss/vue-component\";\n\n.x-query-builder {\n    > .vqb-group {\n        margin-bottom: 0;\n    }\n\n    .vqb-children {\n        .vqb-rule:last-child {\n            margin-bottom: 0;\n        }\n    }\n\n    .vqb-custom-component-wrap {\n        flex: 1 0 auto;\n        margin-right: 1rem;\n    }\n\n    .close {\n        color: #7f7f7f;\n        padding: 0.4rem;\n    }\n\n    .vqb-rule {\n        padding: 0.8rem 1rem;\n    }\n\n    .vqb-group .rule-actions {\n        margin-bottom: 1rem;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XQueryBuilder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XQueryBuilder.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./XQueryBuilder.vue?vue&type=template&id=5094abb8\"\nimport script from \"./XQueryBuilder.vue?vue&type=script&lang=js\"\nexport * from \"./XQueryBuilder.vue?vue&type=script&lang=js\"\nimport style0 from \"./XQueryBuilder.vue?vue&type=style&index=0&id=5094abb8&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleBuilder.vue?vue&type=style&index=0&id=2f7b707c&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"controller-actions\"},[_c('waiter',{ref:\"waiter\"},[_c('action-toolbar',[_c('action-group',[_c('action-back',{attrs:{\"back-route\":_vm.backRoute}}),_c('action-button',{attrs:{\"title\":\"Save\",\"icon\":_vm.$icons.save,\"shortkey\":\"['ctrl', 's']\"},on:{\"action\":_vm.save}}),_c('action-button',{attrs:{\"title\":\"Reload\",\"icon\":_vm.$icons.reload},on:{\"action\":_vm.load}})],1)],1),_c('div',{staticClass:\"mt-3\"},[_c(_vm.ruleComponent,{tag:\"component\"})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-card',[_c('x-form-switch',{attrs:{\"values\":\"boolean\",\"title\":\"Use this page as redir page\"},model:{value:(_vm.rule_use_for_redir),callback:function ($$v) {_vm.rule_use_for_redir=$$v},expression:\"rule_use_for_redir\"}}),_c('x-form-group',{attrs:{\"title\":\"Redir to this page when\"}},[_c('rule-builder')],1),_c('x-form-input',{attrs:{\"title\":\"Add params to URL\",\"description\":\"use substitution: {react_id},{[react_field_name]},{user_hash_login}\"},model:{value:(_vm.rule_redir_param),callback:function ($$v) {_vm.rule_redir_param=$$v},expression:\"rule_redir_param\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n    computed: {\n        form() {\n            const form_id = this.$store.getters['controller/getActionFormId']\n            return form_id ? this.$store.getters['forms/getForm'](form_id) : undefined\n        },\n        form_questions() {\n            return this.form.form_questions\n        },\n        fqtArrayId() {\n            return this.$store.getters['ECO/fqtArrayId']\n        },\n        rules() {\n            return this.$store.getters['controller/formActions/rules']\n        },\n    }\n}\n","<template>\n    <b-card>\n        <x-form-switch v-model=\"rule_use_for_redir\" values=\"boolean\"\n                       title=\"Use this page as redir page\">\n        </x-form-switch>\n        <x-form-group title=\"Redir to this page when\">\n            <rule-builder></rule-builder>\n        </x-form-group>\n        <x-form-input\n            v-model=\"rule_redir_param\"\n            title=\"Add params to URL\"\n            description=\"use substitution: {react_id},{[react_field_name]},{user_hash_login}\">\n        </x-form-input>\n    </b-card>\n</template>\n\n<script>\nimport RuleBuilder from './RuleBuilder'\nimport formActions from './mixins/formActions'\nimport isEmpty from '@modules/isEmpty'\n\nexport default {\n    name: \"RedirectFormActions\",\n    mixins: [formActions],\n    components: {RuleBuilder},\n    data() {\n        return {}\n    },\n    computed: {\n        rule_use_for_redir: {\n            get() {\n                return isEmpty(this.rules['rule_use_for_redir']) ? false : this.rules['rule_use_for_redir']\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_use_for_redir',\n                    value: value\n                })\n            }\n        },\n        rule_redir_param: {\n            get() {\n                return isEmpty(this.rules['rule_redir_param']) ? '' : this.rules['rule_redir_param']\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_redir_param',\n                    value: value\n                })\n            }\n        },\n        rule_redir_event: {\n            get() {\n                return isEmpty(this.rules['rule_redir_event']) ? undefined : this.rules['rule_redir_event']\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_redir_event',\n                    value: value\n                })\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RedirectFormActions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RedirectFormActions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RedirectFormActions.vue?vue&type=template&id=3d05af62&scoped=true\"\nimport script from \"./RedirectFormActions.vue?vue&type=script&lang=js\"\nexport * from \"./RedirectFormActions.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d05af62\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-card',[_c('x-form-radio-group',{attrs:{\"title\":\"Send to\",\"options\":_vm.sendToOptions},model:{value:(_vm.rule_send_type),callback:function ($$v) {_vm.rule_send_type=$$v},expression:\"rule_send_type\"}}),(_vm.rule_send_type==='fields')?_c('x-form-select',{attrs:{\"title\":\"Recipient fields\",\"description\":\"Select fields which will contain recipient email or user group name\",\"id-key\":\"fq_name\",\"label-key\":\"fq_name\",\"multiple\":true,\"options\":_vm.form_questions},model:{value:(_vm.rule_send_fields),callback:function ($$v) {_vm.rule_send_fields=$$v},expression:\"rule_send_fields\"}}):(_vm.rule_send_type==='email')?_c('x-form-input',{attrs:{\"title\":\"Email\",\"description\":\"Specify the recipient's email address or a comma-separated list of emails\"},model:{value:(_vm.rule_send_email),callback:function ($$v) {_vm.rule_send_email=$$v},expression:\"rule_send_email\"}}):_c('x-form-group',{attrs:{\"title\":\"User groups\"}},[_c('select-usergroup',{attrs:{\"multiple\":true},model:{value:(_vm.rule_send_groups),callback:function ($$v) {_vm.rule_send_groups=$$v},expression:\"rule_send_groups\"}})],1),_c('x-form-switch',{attrs:{\"title\":\"Use linked images\"},model:{value:(_vm.rule_image_linked),callback:function ($$v) {_vm.rule_image_linked=$$v},expression:\"rule_image_linked\"}}),_c('x-form-group',{attrs:{\"title\":\"Send mail when\"}},[_c('rule-builder')],1),_c('x-form-group',{attrs:{\"title\":\"Send fields as attachment\"}},[(_vm.attach_fields.length>0)?_vm._l((_vm.attach_fields),function(item){return _c('x-form-control-switch',{key:item.fq_name,attrs:{\"values\":\"boolean\",\"value\":_vm.getFileAttachValue(item.fq_name)},on:{\"change\":function($event){return _vm.setFileAttachValue(item.fq_name,$event)}}},[_vm._v(\"\\n                \"+_vm._s(item.fq_name)+\"\\n            \")])}):[_c('p',{staticClass:\"text-muted empty-attach\"},[_vm._v(\"This form doesn't contain \\\"file\\\" fields\")])]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-card>\n        <x-form-radio-group\n            title=\"Send to\"\n            v-model=\"rule_send_type\"\n            :options=\"sendToOptions\">\n        </x-form-radio-group>\n\n        <x-form-select\n            v-if=\"rule_send_type==='fields'\"\n            title=\"Recipient fields\"\n            description=\"Select fields which will contain recipient email or user group name\"\n            id-key=\"fq_name\"\n            label-key=\"fq_name\"\n            :multiple=\"true\"\n            :options=\"form_questions\"\n            v-model=\"rule_send_fields\">\n        </x-form-select>\n\n        <x-form-input\n            v-else-if=\"rule_send_type==='email'\"\n            title=\"Email\"\n            description=\"Specify the recipient's email address or a comma-separated list of emails\"\n            v-model=\"rule_send_email\">\n        </x-form-input>\n\n        <x-form-group\n            v-else\n            title=\"User groups\">\n            <select-usergroup\n                v-model=\"rule_send_groups\"\n                :multiple=\"true\">\n            </select-usergroup>\n        </x-form-group>\n\n        <x-form-switch\n            title=\"Use linked images\"\n            v-model=\"rule_image_linked\">\n        </x-form-switch>\n\n        <x-form-group title=\"Send mail when\">\n            <rule-builder></rule-builder>\n        </x-form-group>\n\n        <x-form-group title=\"Send fields as attachment\">\n            <template v-if=\"attach_fields.length>0\">\n                <x-form-control-switch\n                    v-for=\"(item) in attach_fields\" :key=\"item.fq_name\"\n                    values=\"boolean\"\n                    :value=\"getFileAttachValue(item.fq_name)\"\n                    @change=\"setFileAttachValue(item.fq_name,$event)\">\n                    {{ item.fq_name }}\n                </x-form-control-switch>\n            </template>\n            <template v-else>\n                <p class=\"text-muted empty-attach\">This form doesn't contain \"file\" fields</p>\n            </template>\n\n        </x-form-group>\n    </b-card>\n</template>\n\n<script>\n\nimport RuleBuilder from './RuleBuilder'\nimport isEmpty from '@modules/isEmpty'\nimport formActions from './mixins/formActions'\n\nexport default {\n    name: \"MailFormActions\",\n    mixins: [formActions],\n    components: {RuleBuilder},\n    data() {\n        return {\n            sendToOptions: [\n                {text: 'Fields', value: 'fields'},\n                {text: 'Email', value: 'email'},\n                {text: 'User groups', value: 'usergroups'},\n            ],\n        }\n    },\n    computed: {\n        rule_send_type: {\n            get() {\n                return isEmpty(this.rules['rule_send_type']) ? 'fields' : this.rules['rule_send_type']\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_send_type',\n                    value: value\n                })\n            }\n        },\n        rule_send_email: {\n            get() {\n                return isEmpty(this.rules['rule_send_email']) ? '' : this.rules['rule_send_email']\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_send_email',\n                    value: value\n                })\n            }\n        },\n        rule_send_fields: {\n            get() {\n                return isEmpty(this.rules['rule_send_fields']) ? [] : this.rules['rule_send_fields'].split(',')\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_send_fields',\n                    value: value.join(',')\n                })\n            }\n        },\n        rule_send_groups: {\n            get() {\n                return isEmpty(this.rules['rule_send_groups']) ? [] : this.rules['rule_send_groups'].split(',')\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_send_groups',\n                    value: value.join(',')\n                })\n            }\n        },\n        rule_file_attach() {\n            return isEmpty(this.rules['rule_file_attach']) ? [] : this.rules['rule_file_attach']\n        },\n        rule_image_linked: {\n            get() {\n                return isEmpty(this.rules['rule_image_linked']) ? false : this.rules['rule_image_linked']\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_image_linked',\n                    value: value\n                })\n            }\n        },\n        attach_fields() {\n            if (!this.form_questions || isEmpty(this.fqtArrayId)) return []\n            return this.form_questions.filter(fq => {\n                return this.fqtArrayId[fq.fq_type].fqt_name === 'file'\n            })\n        }\n    },\n    methods: {\n        getFileAttachValue(fq_name) {\n            return this.rule_file_attach.includes(fq_name)\n        },\n        setFileAttachValue(fq_name, value) {\n            this.$store.commit('controller/formActions/setRule', {\n                rule: 'rule_file_attach',\n                value: value ? [...this.rule_file_attach, fq_name] : this.rule_file_attach.filter(item => item !== fq_name)\n            })\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"src/assets/scss/vue-component\";\n\n.empty-attach {\n    margin: 0;\n    padding-top: add($input-padding-y, $input-border-width);\n    padding-bottom: add($input-padding-y, $input-border-width);\n}\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailFormActions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailFormActions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MailFormActions.vue?vue&type=template&id=8b3094a0&scoped=true\"\nimport script from \"./MailFormActions.vue?vue&type=script&lang=js\"\nexport * from \"./MailFormActions.vue?vue&type=script&lang=js\"\nimport style0 from \"./MailFormActions.vue?vue&type=style&index=0&id=8b3094a0&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b3094a0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"controller-actions\">\n        <waiter ref=\"waiter\">\n            <action-toolbar>\n                <action-group>\n                    <action-back :back-route=\"backRoute\"></action-back>\n                    <action-button title=\"Save\" :icon=\"$icons.save\" @action=\"save\"\n                                   shortkey=\"['ctrl', 's']\">\n                    </action-button>\n                    <action-button title=\"Reload\"\n                                   :icon=\"$icons.reload\"\n                                   @action=\"load\">\n                    </action-button>\n                </action-group>\n            </action-toolbar>\n            <div class=\"mt-3\">\n                <component :is=\"ruleComponent\"></component>\n            </div>\n        </waiter>\n    </div>\n</template>\n\n<script>\nimport RedirectFormActions from './components/formActions/RedirectFormActions'\nimport MailFormActions from './components/formActions/MailFormActions'\nimport {R_CONTROLLER} from '@/router/routs'\n\nexport default {\n    name: \"ControllerActions\",\n    components: {MailFormActions, RedirectFormActions},\n    props: {\n        react_id: {\n            required: true\n        }\n    },\n    data() {\n        return {\n            backRoute: R_CONTROLLER\n        }\n    },\n    computed: {\n        ruleComponent() {\n            if (this.react.react_form_name) {\n                return this.$store.getters['forms/isMailable'](this.react.react_form) ? MailFormActions : RedirectFormActions\n            }\n        },\n        rulesName() {\n            if (this.react.react_form_name) {\n                return this.$store.getters['forms/isMailable'](this.react.react_form) ? 'mail_rules' : 'redir_rules'\n            }\n        },\n        react() {\n            let item = this.$store.getters['controller/getItem'](this.react_id)\n            return item ? item.react : {}\n        },\n        form() {\n            return this.$store.getters['forms/getForm'](this.react.react_form)\n        },\n    },\n    watch: {\n        rulesName: {\n            async handler() {\n                await this.load()\n            }\n        }\n    },\n    mounted(){\n        this.load()\n    },\n    methods: {\n        async load() {\n            if (!this.rulesName) return\n            await this.$refs.waiter.wait(\n                this.$store.dispatch('controller/formActions/loadRules', {\n                    react_id: this.react_id,\n                    rules_name: this.rulesName\n                }))\n        },\n        async save() {\n            await this.$refs.waiter.wait(\n                this.$store.dispatch('controller/formActions/saveRules', {\n                        react_id: this.react_id,\n                        rules_name: this.rulesName\n                    }\n                )\n            )\n        },\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControllerFormActions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControllerFormActions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ControllerFormActions.vue?vue&type=template&id=71420a22\"\nimport script from \"./ControllerFormActions.vue?vue&type=script&lang=js\"\nexport * from \"./ControllerFormActions.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('rule-adapter',{staticClass:\"rule-builder\",attrs:{\"rules\":_vm.rulesDefinition,\"rule_operator\":_vm.rule_operator,\"max-depth\":3},on:{\"update:rule_operator\":function($event){_vm.rule_operator=$event}},model:{value:(_vm.rule_if),callback:function ($$v) {_vm.rule_if=$$v},expression:\"rule_if\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-input',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},'b-input',_vm.$attrs,false),_vm.$listeners))],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <b-input v-show=\"show\" v-bind=\"$attrs\" v-on=\"$listeners\"></b-input>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"FieldRuleInput\",\n    computed: {\n        show() {\n            return !['is EMPTY', 'is NOT EMPTY', 'is CHANGED'].includes(this.$parent.query.operator)\n\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldRuleInput.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FieldRuleInput.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FieldRuleInput.vue?vue&type=template&id=18eadda3&scoped=true\"\nimport script from \"./FieldRuleInput.vue?vue&type=script&lang=js\"\nexport * from \"./FieldRuleInput.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18eadda3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('x-query-builder',_vm._b({model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}},'x-query-builder',_vm.$attrs,false))\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const operatorsQuery = {\n    '=': 'is EQUAL',\n    '!=': 'is NOT EQUAL',\n    'empty': 'is EMPTY',\n    '!empty': 'is NOT EMPTY',\n    'changed': 'is CHANGED'\n}\nexport default function ruleToQuery({rule_if, rule_operator}) {\n\n    if (!rule_if) rule_if = []\n\n    const children = rule_if.reduce((children, item) => {\n        if (item.rule_if) {\n            children.push({\n                type: 'query-builder-group',\n                query: ruleToQuery({rule_if: item.rule_if, rule_operator: item.rule_operator})\n            })\n        } else {\n            if (item.field_name === '__react') {\n                children.push({\n                    type: 'query-builder-rule',\n                    query: {\n                        operand: \"REACT\",\n                        operator: undefined,\n                        rule: item.field_name,\n                        value: item.exp\n                    }\n                })\n\n            } else {\n                children.push({\n                    type: 'query-builder-rule',\n                    query: {\n                        operand: item.field_name,\n                        operator: operatorsQuery[item.exp] || item.exp,\n                        rule: '__' + item.field_name,\n                        value: item.field_value\n                    }\n                })\n            }\n        }\n\n        return children\n    }, [])\n    //type:\"query-builder-group\"\n    return {logicalOperator: rule_operator, children}\n}","const operatorsRule = {\n    'is EQUAL': '=',\n    'is NOT EQUAL': '!=',\n    'is EMPTY': 'empty',\n    'is NOT EMPTY': '!empty',\n    'is CHANGED': 'changed'\n}\n\nexport default function queryToRule(query) {\n    return query.children.reduce((rule_if, item) => {\n        if (item.type === 'query-builder-group') {\n            rule_if.push({\n                \"rule_if\": queryToRule(item.query),\n                \"rule_operator\": item.query.logicalOperator\n            })\n        } else {\n            if (item.query.rule === '__react') {\n                rule_if.push({\n                    field_name: item.query.rule,\n                    field_value: '',\n                    exp: item.query.value\n                })\n            } else {\n                rule_if.push({\n                    field_name: item.query.operand,\n                    field_value: item.query.value,\n                    exp: operatorsRule[item.query.operator] || item.query.operator,\n                })\n            }\n        }\n\n        return rule_if\n    }, [])\n}","<template>\n    <x-query-builder\n        v-bind=\"$attrs\"\n        v-model=\"query\">\n    </x-query-builder>\n</template>\n\n<script>\nimport XQueryBuilder from '@/components/XQueryBuilder/XQueryBuilder'\nimport {isEqual} from 'lodash'\nimport ruleToQuery from \"@modules/utils/ruleToQuery\";\nimport queryToRule from \"@modules/utils/queryToRule\";\n\nexport default {\n    name: \"RuleAdapter\",\n    components: {XQueryBuilder},\n    model: {\n        prop: 'rule_if',\n        event: 'input'\n    },\n    props: {\n        rule_if: {\n            type: Array,\n            required: true,\n            default() {\n                return []\n            }\n        },\n        rule_operator: {\n            type: String,\n            required: true,\n            default: 'any'\n        }\n    },\n    data() {\n        return {\n            query: {\n                children: null,\n                logicalOperator: null\n            },\n        }\n    },\n    watch: {\n        rule_if: {\n            deep: true,\n            immediate: true,\n            handler() {\n                const query = ruleToQuery({rule_if: this.rule_if, rule_operator: this.rule_operator})\n                this.query.children = query.children\n            }\n        },\n        rule_operator: {\n            immediate: true,\n            handler() {\n                this.query.logicalOperator = this.rule_operator\n            }\n        },\n        query() {\n            let rule_if = queryToRule(this.query)\n            if (!isEqual(rule_if, this.rule_if)) this.$emit('input', rule_if)\n\n            if (this.rule_operator !== this.query.logicalOperator) {\n                this.$emit('update:rule_operator', this.query.logicalOperator)\n            }\n        }\n    },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleAdapter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleAdapter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RuleAdapter.vue?vue&type=template&id=16c71e16&scoped=true\"\nimport script from \"./RuleAdapter.vue?vue&type=script&lang=js\"\nexport * from \"./RuleAdapter.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16c71e16\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <rule-adapter class=\"rule-builder\"\n                  v-model=\"rule_if\"\n                  :rules=\"rulesDefinition\"\n                  :rule_operator.sync=\"rule_operator\"\n                  :max-depth=\"3\">\n    </rule-adapter>\n</template>\n\n<script>\nimport FieldRuleInput from './FieldRuleInput'\nimport RuleAdapter from './RuleAdapter'\n\nexport default {\n    name: \"RuleBuilder\",\n    components: {RuleAdapter},\n    computed: {\n        rules() {\n            return this.$store.getters['controller/formActions/rules']\n        },\n        rule_if: {\n            get() {\n                return this.rules.rule_if\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_if',\n                    value: value\n                })\n            }\n        },\n        rule_operator: {\n            get() {\n                return this.rules.rule_operator\n            },\n            set(value) {\n                this.$store.commit('controller/formActions/setRule', {\n                    rule: 'rule_operator',\n                    value: value\n                })\n            }\n        },\n        form() {\n            return this.$store.getters['forms/getForm'](this.$store.getters['controller/getActionFormId'])\n        },\n        form_questions() {\n            if (!this.form) return []\n            return this.form.form_questions\n        },\n        fqtArrayId() {\n            return this.$store.getters['ECO/fqtArrayId']\n        },\n        rulesDefinition() {\n            return [\n                {\n                    type: \"radio\",\n                    id: \"__react\",\n                    label: \"REACT\",\n                    choices: [\n                        {label: \"CHANGED\", value: \"changed\"},\n                        {label: \"DELETED\", value: \"deleted\"}\n                    ]\n                },\n                ...this.form_questions.map(fq => {\n                    return {\n                        type: \"custom-component\",\n                        id: '__' + fq.fq_name,\n                        label: fq.fq_name,\n                        operators: ['is EQUAL', 'is NOT EQUAL', 'is EMPTY', 'is NOT EMPTY', 'is CHANGED', '>', '<', '>=', '<='],\n                        component: FieldRuleInput,\n                        default: ''\n                    }\n                })]\n        }\n    },\n    data() {\n        return {}\n    }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"src/assets/scss/vue-component\";\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleBuilder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleBuilder.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RuleBuilder.vue?vue&type=template&id=2f7b707c\"\nimport script from \"./RuleBuilder.vue?vue&type=script&lang=js\"\nexport * from \"./RuleBuilder.vue?vue&type=script&lang=js\"\nimport style0 from \"./RuleBuilder.vue?vue&type=style&index=0&id=2f7b707c&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailFormActions.vue?vue&type=style&index=0&id=8b3094a0&prod&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XQueryBuilder.vue?vue&type=style&index=0&id=5094abb8&prod&lang=scss\""],"sourceRoot":""}