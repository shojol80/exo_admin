(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e029318c"],{"06a9":function(t,e,n){},"29b4":function(t,e,n){"use strict";n("c424")},4074:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("app-screen",[e("div",{staticClass:"tiny-mce-styles"},[e("waiter",{ref:"waiter"},[e("b-tabs",{staticClass:"x-tabs"},[e("b-tab",{ref:"stylesTab",staticClass:"tab-no-padding",attrs:{active:"",lazy:""},scopedSlots:t._u([{key:"title",fn:function(){return[e("icon",{attrs:{icon:t.$icons.wizard}}),t._v("\n                        Styles\n                    ")]},proxy:!0}])},[e("related-styles")],1),e("b-tab",{staticClass:"tab-no-padding",attrs:{lazy:""},scopedSlots:t._u([{key:"title",fn:function(){return[e("icon",{attrs:{icon:t.$icons.variables}}),t._v("\n                        Style formats\n                    ")]},proxy:!0}])},[e("style-formats")],1)],1)],1)],1)])},o=[],a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"style-formats"},[e("waiter",{ref:"waiter",staticClass:"style-formats"},[e("action-toolbar",[e("action-group",{staticClass:"mr-2"},[e("action-button",{attrs:{title:"Save",icon:t.$icons.save,shortkey:"['ctrl', 's']"},on:{action:t.onActionSave}}),e("action-button",{attrs:{title:"Reload",icon:t.$icons.reload},on:{action:t.onActionReload}})],1)],1),e("x-code-editor",{ref:"cm",attrs:{"full-height":!0,options:t.options},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)},s=[],i=(n("96cf"),n("3b8d")),c=n("8e6d"),l=n("320e"),u={name:"StyleFormats",components:{XCodeEditor:l["a"]},data:function(){return{content:null,path:null,options:{mode:"javascript"}}},computed:{},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,this.load();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{load:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,this.$refs.waiter.wait(c["a"].getStyleFormats());case 1:e=t.sent,this.path=e.path,this.content=e.content,this.$refs.cm.codemirror.refresh();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onActionSave:function(){try{JSON.parse(this.content),c["a"].saveStyleFormats({path:this.path,content:this.content})}catch(t){this.$awn.alert("Can`t parse formats file. Please check syntax.")}},onActionReload:function(){this.load()}}},p=u,f=(n("6953"),n("2877")),m=Object(f["a"])(p,a,s,!1,null,"ecec4050",null),h=m.exports,d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"related-styles"},[e("waiter",{ref:"waiter"},[e("action-toolbar",[e("action-group",[e("action-button",{attrs:{title:"Save and close",icon:t.$icons.confirm},on:{action:function(e){return t.onActionConfirm()}}}),e("action-button",{attrs:{title:"Save",icon:t.$icons.save,shortkey:"['ctrl', 's']"},on:{action:t.onActionSave}}),e("action-button",{attrs:{title:"Reload",icon:t.$icons.reload},on:{action:t.onActionReload}})],1)],1),t.css_id?e("div",[e("h4",{staticClass:"text-muted p-5 text-center"},[t._v("You can't use format styles with Custom CSS in one time.\n                Unset custom css to use format styles.")])]):e("div",{staticClass:"related-styles__list p-3"},[t.styles.length?t._l(t.style_formats,(function(n){return e("b-form-group",{key:n.title,staticClass:"related-styles__group mb-0"},[e("format-checkbox-group",{attrs:{format:n},model:{value:t.styles_object[n["title"]],callback:function(e){t.$set(t.styles_object,n["title"],e)},expression:"styles_object[format['title']]"}})],1)})):t._e()],2)],1)],1)},y=[],v=(n("551c"),n("5df3"),n("ac6a"),n("cadf"),n("8615"),n("2ef0")),b=n.n(v),g=n("c8df"),w=function(){var t=this,e=t._self._c;return e("fragment",[e("b-form-checkbox",{attrs:{checked:t.value.selected,indeterminate:t.indeterminate},on:{change:t.toggleSelect}},[t._v("\n        "+t._s(t.format.title)+"\n    ")]),t.subOptions.length?[e("b-form-checkbox-group",{staticClass:"ml-4",attrs:{checked:t.value.items,options:t.subOptions,name:"subFormats",stacked:""},on:{change:t.toggleSelectItems}})]:t._e()],2)},S=[],O={name:"format-checkbox-group",model:{prop:"value",event:"change"},props:{format:{},value:{}},data:function(){return{allSelected:!0,indeterminate:!1}},computed:{subOptions:function(){return this.format["items"]?this.toOptions(this.format["items"]):[]},allItems:function(){return this.format["items"]?this.format["items"].map((function(t){return t.title})):[]}},watch:{"value.items":{immediate:!0,handler:function(t){0===t.length||t.length===this.allItems.length?this.indeterminate=!1:this.indeterminate=!0}}},methods:{toOptions:function(t){return t.map((function(t){return{text:t["title"],value:t["title"]}}))},toggleSelect:function(t){this.$emit("change",{title:this.value.title,selected:t,items:t?this.allItems:[]})},toggleSelectItems:function(t){this.$emit("change",{title:this.value.title,selected:t.length===this.allItems.length,items:t})}}},x=O,R=Object(f["a"])(x,w,S,!1,null,null,null),_=R.exports,j=(n("8e6e"),n("456d"),n("bd86")),k=n("7618"),$=n("115e");function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){Object(j["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function F(t){return Object($["a"])(t)?[]:t.map((function(t){return"object"===Object(k["a"])(t)?A({items:[]},t):{title:t,selected:!0,items:[]}})).filter((function(t,e,n){for(var r=n.length-1;r>=0;r--){if(n[r].title===t.title&&r===e)return!0;if(n[r].title===t.title&&r!==e)return!1}}))}var P={name:"RelatedStyles",components:{FormatCheckboxGroup:_},data:function(){return{css_id:null,style_formats:[],styles:[],styles_object:{}}},computed:{},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,this.load();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{convertToObject:function(t){var e=this.style_formats.map((function(e){var n=t.find((function(t){return t.title===e.title}))||{title:e.title,selected:!1,items:[]};return n.selected&&e.items&&(n.items=e.items.map((function(t){return t.title}))),n}));return e.reduce((function(t,e){return t[e.title]=e,t}),{})},convertToArray:function(t){return Object.values(t)},load:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,this.$refs.waiter.wait(Promise.all([this.getStyleFormats()]));case 1:return t.next=2,this.getRelatedStyles();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getStyleFormats:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,c["a"].getStyleFormats();case 1:e=t.sent,n=e.content;try{this.style_formats=b.a.get(JSON.parse(n),"style_formats")}catch(r){this.style_formats={},this.$awn.alert("Can`t parse formats file. Please check syntax.")}case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getRelatedStyles:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=F,t.next=1,c["a"].getRelatedStyles({optionId:this.$route.query.option_id,optionField:this.$route.query.option_field});case 1:n=t.sent,this.styles=e(n),this.$set(this,"styles_object",this.convertToObject(this.styles));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveRelatedStyles:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.convertToArray(this.styles_object),c["a"].saveRelatedStyles({styles:e,optionId:this.$route.query.option_id,optionField:this.$route.query.option_field});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onActionSave:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,this.saveRelatedStyles();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onActionReload:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,this.getRelatedStyles();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onActionConfirm:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=1,this.saveRelatedStyles();case 1:g["a"].$emit("exolog-exo-modal-cancel");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},I=P,T=(n("f3ee"),Object(f["a"])(I,d,y,!1,null,null,null)),q=T.exports,B={name:"TinyMceStyles",components:{RelatedStyles:q,StyleFormats:h}},D=B,J=(n("29b4"),Object(f["a"])(D,r,o,!1,null,null,null));e["default"]=J.exports},6953:function(t,e,n){"use strict";n("df51")},"8e6d":function(t,e,n){"use strict";var r=n("2c67");e["a"]={loadToolbarButtons:function(t,e){return r["a"].post.apply(r["a"],["/editor/loadToolbarButtons"].concat(Array.prototype.slice.call(arguments)))},saveToolbarButtons:function(t,e){return r["a"].post.apply(r["a"],["/editor/saveToolbarButtons"].concat(Array.prototype.slice.call(arguments)))},getRelatedStyles:function(t,e){t.optionId,t.optionField;return r["a"].post.apply(r["a"],["/editor/getRelatedStyles"].concat(Array.prototype.slice.call(arguments)))},saveRelatedStyles:function(t,e){t.styles,t.optionId,t.optionField;return r["a"].post.apply(r["a"],["/editor/saveRelatedStyles"].concat(Array.prototype.slice.call(arguments)))},getStyleFormats:function(){return r["a"].post.apply(r["a"],["/editor/getStyleFormats"].concat(Array.prototype.slice.call(arguments)))},saveStyleFormats:function(t){t.path,t.content;return r["a"].post.apply(r["a"],["/editor/saveStyleFormats"].concat(Array.prototype.slice.call(arguments)))}}},c424:function(t,e,n){},df51:function(t,e,n){},f3ee:function(t,e,n){"use strict";n("06a9")}}]);
//# sourceMappingURL=chunk-e029318c.68056c92.js.map