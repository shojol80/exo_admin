{"version":3,"sources":["webpack:///./src/views/misc/Setup2fa.vue","webpack:///src/views/misc/Setup2fa.vue","webpack:///./src/views/misc/Setup2fa.vue?1ee7","webpack:///./src/views/misc/Setup2fa.vue?b84a","webpack:///./src/components/statefull/TwoStepAuth.vue","webpack:///src/components/statefull/TwoStepAuth.vue","webpack:///./src/components/statefull/TwoStepAuth.vue?3b8d","webpack:///./src/components/statefull/TwoStepAuth.vue?3664","webpack:///./src/components/statefull/TwoStepAuth.vue?2259"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","onDone","staticRenderFns","name","components","TwoStepAuth","methods","$router","push","R_DASHBOARD","component","directives","rawName","value","hideHeader","expression","_v","step","showCode","_s","secretCode","$event","preventDefault","staticStyle","barcode","width","color","dark","_e","ref","gaCodeState","verifyError","type","indexOf","_k","keyCode","key","verify","apply","arguments","model","ga_code","callback","$$v","onClose","VueQrcode","props","u_id","default","undefined","data","watch","newVal","oldVal","_this","$nextTick","$refs","input","focus","computed","length","error","$store","state","auth","_this2","step2waiter","wait","enable2FA","then","catch","$emit","mounted","_this3","create2FA","result","code"],"mappings":"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","file":"js/chunk-6786a976.658b1550.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"splash-bg center-position setup-2fa\"},[_c('div',{staticClass:\"container\"},[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('two-step-auth',{on:{\"done\":_vm.onDone}})],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"splash-bg center-position setup-2fa\">\n        <div class=\"container\">\n            <b-row class=\"justify-content-center\">\n                <b-col md=\"6\">\n                    <two-step-auth @done=\"onDone\"></two-step-auth>\n                </b-col>\n            </b-row>\n        </div>\n    </div>\n</template>\n\n<script>\n\nimport {R_DASHBOARD} from '@/router/routs'\nimport TwoStepAuth from '@/components/statefull/TwoStepAuth'\n\nexport default {\n    name: 'Setup2fa',\n    components:{TwoStepAuth},\n    methods: {\n        onDone() {\n            this.$router.push({name: R_DASHBOARD})\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setup2fa.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setup2fa.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Setup2fa.vue?vue&type=template&id=12281d69\"\nimport script from \"./Setup2fa.vue?vue&type=script&lang=js\"\nexport * from \"./Setup2fa.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-card-group',{staticClass:\"two-step-auth\"},[_c('b-card',{staticClass:\"animated fadeIn\",attrs:{\"no-body\":\"\",\"footer-bg-variant\":\"success\"}},[_c('b-card-header',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hideHeader),expression:\"!hideHeader\"}]},[_c('h2',{staticClass:\"text-primary mb-0\"},[_vm._v(\"Set up Authenticator\")])]),_c('b-card-body',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===1),expression:\"step===1\"}]},[(!_vm.showCode)?_c('div',[_c('ol',{staticClass:\"text-dark\"},[_c('li',[_vm._v(\"\\n                        Get the Authenticator App from the Play Store.\\n                        \"),_c('div',{staticClass:\"d-flex flex-row align-items-center\"},[_c('div',{staticClass:\"exo-2FA-steps__link-android\"},[_c('a',{attrs:{\"href\":\"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1\"}},[_c('img',{staticStyle:{\"display\":\"inline-block\",\"width\":\"150px\"},attrs:{\"alt\":\"Get it on Google Play\",\"src\":\"https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png\"}})])]),_c('a',{staticStyle:{\"display\":\"inline-block\",\"overflow\":\"hidden\",\"background\":\"url(https://linkmaker.itunes.apple.com/assets/shared/badges/en-us/appstore-lrg.svg) no-repeat\",\"width\":\"135px\",\"height\":\"40px\",\"background-size\":\"contain\"},attrs:{\"href\":\"https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8\"}})])]),_c('li',[_vm._v(\" In the App select Set up account.\\n                    \")]),_c('li',[_vm._v(\" Choose Scan a barcode.\\n                    \")])]),_c('div',{staticClass:\"text-center mb-4 mt-4\"},[(_vm.barcode)?_c('vue-qrcode',{attrs:{\"value\":_vm.barcode,\"options\":{ width: 200 , color:{dark:'#00919c'}}}}):_vm._e()],1),_c('div',{staticClass:\"text-center\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.showCode=true}}},[_vm._v(\"Can't scan it? or want backup code?\")])])]):_c('div',[_c('ol',{staticClass:\"text-dark\"},[_c('li',[_vm._v(\"Tap Menu, then Set up account.\")]),_c('li',[_vm._v(\"Tap Enter provided key.\")]),_c('li',[_vm._v(\"Enter your email address and this key:\\n                        \"),_c('b-alert',{staticClass:\"mt-3\",attrs:{\"show\":\"\",\"variant\":\"dark\"}},[_vm._v(_vm._s(_vm.secretCode))])],1),_c('li',[_vm._v(\"Make sure Time based is turned on, and tap Add to finish.\")])]),_c('div',{staticClass:\"text-center\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.showCode=false}}},[_vm._v(\"Show QR code\")])])])]),_c('b-card-body',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===2),expression:\"step===2\"}]},[_c('waiter',{ref:\"step2waiter\"},[_c('div',[_c('b-input-group',{staticClass:\"mb-3\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_vm._v(\"6-digit code\")])],1),_c('b-form-input',{ref:\"input\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter code that you see in the app\",\"state\":(_vm.gaCodeState && !_vm.verifyError)?null:false},on:{\"input\":function($event){_vm.verifyError=''},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.verify.apply(null, arguments)}},model:{value:(_vm.ga_code),callback:function ($$v) {_vm.ga_code=$$v},expression:\"ga_code\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"inputLiveFeedback\"}},[_vm._v(\"\\n                            \"+_vm._s(_vm.verifyError)+\"\\n                        \")])],1)],1)])],1),_c('b-card-body',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===3),expression:\"step===3\"}]},[_c('b-alert',{attrs:{\"variant\":\"success\",\"show\":\"\"}},[_c('h4',{staticClass:\"text-center mb-0\"},[_vm._v(\"2-Step Verification turned on\")])])],1),_c('b-card-footer',{staticClass:\"text-right\",attrs:{\"footer-bg-variant\":\"light\"}},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step>1 && _vm.step<3),expression:\"step>1 && step<3\"}],staticClass:\"px-4 mx-1 btn-min\",attrs:{\"variant\":\"light\"},on:{\"click\":function($event){_vm.step--}}},[_vm._v(\"BACK\\n            \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step<2),expression:\"step<2\"}],staticClass:\"px-4 mx-1 btn-min\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){_vm.step++}}},[_vm._v(\"NEXT\\n            \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===2),expression:\"step===2\"}],staticClass:\"px-4 mx-1 btn-min\",attrs:{\"variant\":\"primary\",\"disabled\":!_vm.gaCodeState},on:{\"click\":_vm.verify}},[_vm._v(\"VERIFY\\n            \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===3),expression:\"step===3\"}],staticClass:\"px-4 mx-1 btn-min\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.onClose}},[_vm._v(\"DONE\\n            \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-card-group class=\"two-step-auth\">\n        <b-card no-body\n                footer-bg-variant=\"success\"\n                class=\"animated fadeIn\">\n\n            <b-card-header v-show=\"!hideHeader\">\n                <h2 class=\"text-primary mb-0\">Set up Authenticator</h2>\n            </b-card-header>\n\n            <b-card-body v-show=\"step===1\">\n                <div v-if=\"!showCode\">\n                    <ol class=\"text-dark\">\n                        <li>\n                            Get the Authenticator App from the Play Store.\n                            <div class=\"d-flex flex-row align-items-center\">\n                                <div class=\"exo-2FA-steps__link-android\">\n                                    <a href='https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'\n                                    >\n                                        <img\n                                            style=\"display:inline-block;width:150px;\"\n                                            alt='Get it on Google Play'\n                                            src='https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png'/></a>\n\n                                </div>\n                                <a href=\"https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8\"\n                                   style=\"display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/assets/shared/badges/en-us/appstore-lrg.svg) no-repeat;width:135px;height:40px;background-size:contain;\"></a>\n                            </div>\n\n                        </li>\n                        <li> In the App select Set up account.\n                        </li>\n                        <li> Choose Scan a barcode.\n                        </li>\n                    </ol>\n                    <div class=\"text-center mb-4 mt-4\">\n                        <vue-qrcode v-if=\"barcode\" :value=\"barcode\" :options=\"{ width: 200 , color:{dark:'#00919c'}}\"></vue-qrcode>\n                    </div>\n                    <div class=\"text-center\">\n                        <a href=\"#\" @click.prevent=\"showCode=true\">Can't scan it? or want backup code?</a>\n                    </div>\n                </div>\n\n                <div v-else>\n                    <ol class=\"text-dark\">\n                        <li>Tap Menu, then Set up account.</li>\n                        <li>Tap Enter provided key.</li>\n                        <li>Enter your email address and this key:\n                            <b-alert show variant=\"dark\" class=\"mt-3\">{{secretCode}}</b-alert>\n                        </li>\n                        <li>Make sure Time based is turned on, and tap Add to finish.</li>\n                    </ol>\n                    <div class=\"text-center\">\n                        <a href=\"#\" @click.prevent=\"showCode=false\">Show QR code</a>\n                    </div>\n                </div>\n\n            </b-card-body>\n\n            <b-card-body v-show=\"step===2\">\n                <waiter ref=\"step2waiter\">\n                    <div>\n                        <b-input-group class=\"mb-3\">\n                            <b-input-group-prepend>\n                                <b-input-group-text>6-digit code</b-input-group-text>\n                            </b-input-group-prepend>\n                            <b-form-input type=\"text\" class=\"form-control\"\n                                          placeholder=\"Enter code that you see in the app\"\n                                          ref=\"input\"\n                                          :state=\"(gaCodeState && !verifyError)?null:false\"\n                                          @input=\"verifyError=''\"\n                                          @keyup.enter=\"verify\"\n                                          v-model=\"ga_code\"></b-form-input>\n                            <b-form-invalid-feedback id=\"inputLiveFeedback\">\n                                {{verifyError}}\n                            </b-form-invalid-feedback>\n                        </b-input-group>\n                    </div>\n                </waiter>\n\n\n            </b-card-body>\n\n            <b-card-body v-show=\"step===3\">\n                <b-alert variant=\"success\" show>\n                    <h4 class=\"text-center mb-0\">2-Step Verification turned on</h4>\n                </b-alert>\n            </b-card-body>\n\n            <b-card-footer\n                footer-bg-variant=\"light\"\n                class=\"text-right\">\n                <b-button variant=\"light\" v-show=\"step>1 && step<3\"\n                          class=\"px-4 mx-1 btn-min\"\n                          @click=\"step--\">BACK\n                </b-button>\n                <b-button variant=\"primary\" v-show=\"step<2\"\n                          class=\"px-4 mx-1 btn-min\"\n                          @click=\"step++\">NEXT\n                </b-button>\n                <b-button variant=\"primary\" v-show=\"step===2\"\n                          class=\"px-4 mx-1 btn-min\"\n                          @click=\"verify\"\n                          :disabled=!gaCodeState>VERIFY\n                </b-button>\n                <b-button variant=\"primary\" v-show=\"step===3\"\n                          class=\"px-4 mx-1 btn-min\"\n                          @click=\"onClose\">DONE\n                </b-button>\n            </b-card-footer>\n        </b-card>\n    </b-card-group>\n</template>\n\n<script>\nimport auth from '@/services/api/auth'\nimport VueQrcode from '@chenfengyuan/vue-qrcode';\n\nexport default {\n    name: \"TwoStepAuth\",\n    components: {VueQrcode},\n    props: {\n        u_id: {\n            default: undefined\n        },\n        hideHeader: {\n            default: false\n        }\n    },\n    data() {\n        return {\n            step: 1,\n            barcode: '',\n            secretCode: '',\n            showCode: false,\n            ga_code: '',\n            verifyError: ''\n        }\n    },\n    watch: {\n        step(newVal, oldVal) {\n            if (newVal === 2) {\n                this.ga_code = ''\n                this.$nextTick(() => {\n                    this.$refs.input.focus()\n                })\n            }\n        }\n    },\n    computed: {\n        gaCodeState() {\n            return this.ga_code.length === 6 ? true : this.ga_code.length === 0 ? null : false\n        },\n        error() {\n            return this.$store.state.auth.error\n        }\n    },\n    methods: {\n        verify() {\n            if (!this.gaCodeState) return\n            this.verifyError = ''\n            this.$refs.step2waiter.wait(\n                auth.enable2FA({\n                    u_id: this.u_id,\n                    ga_code: this.ga_code\n                }).then(() => {\n                    this.step++\n                }).catch(error => {\n                    if (error.data && error.data.error) {\n                        this.verifyError = error.data.error\n                    } else {\n                        throw error;\n                    }\n                })\n            )\n\n        },\n        onClose() {\n            this.$emit('done')\n        }\n    },\n    mounted() {\n        auth.create2FA({\n            u_id: this.u_id\n        }).then(result => {\n            this.barcode = result.barcode\n            this.secretCode = result.code\n        })\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.two-step-auth {\n    .card-body {\n        min-height: 400px;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoStepAuth.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoStepAuth.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TwoStepAuth.vue?vue&type=template&id=0d40bacc&scoped=true\"\nimport script from \"./TwoStepAuth.vue?vue&type=script&lang=js\"\nexport * from \"./TwoStepAuth.vue?vue&type=script&lang=js\"\nimport style0 from \"./TwoStepAuth.vue?vue&type=style&index=0&id=0d40bacc&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d40bacc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoStepAuth.vue?vue&type=style&index=0&id=0d40bacc&prod&scoped=true&lang=scss\""],"sourceRoot":""}