(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6786a976"],{"4b88":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"splash-bg center-position setup-2fa"},[e("div",{staticClass:"container"},[e("b-row",{staticClass:"justify-content-center"},[e("b-col",{attrs:{md:"6"}},[e("two-step-auth",{on:{done:t.onDone}})],1)],1)],1)])},i=[],n=a("b991"),r=a("8055"),o={name:"Setup2fa",components:{TwoStepAuth:r["a"]},methods:{onDone:function(){this.$router.push({name:n["k"]})}}},c=o,d=a("2877"),l=Object(d["a"])(c,s,i,!1,null,null,null);e["default"]=l.exports},8055:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("b-card-group",{staticClass:"two-step-auth"},[e("b-card",{staticClass:"animated fadeIn",attrs:{"no-body":"","footer-bg-variant":"success"}},[e("b-card-header",{directives:[{name:"show",rawName:"v-show",value:!t.hideHeader,expression:"!hideHeader"}]},[e("h2",{staticClass:"text-primary mb-0"},[t._v("Set up Authenticator")])]),e("b-card-body",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step===1"}]},[t.showCode?e("div",[e("ol",{staticClass:"text-dark"},[e("li",[t._v("Tap Menu, then Set up account.")]),e("li",[t._v("Tap Enter provided key.")]),e("li",[t._v("Enter your email address and this key:\n                        "),e("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"dark"}},[t._v(t._s(t.secretCode))])],1),e("li",[t._v("Make sure Time based is turned on, and tap Add to finish.")])]),e("div",{staticClass:"text-center"},[e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCode=!1}}},[t._v("Show QR code")])])]):e("div",[e("ol",{staticClass:"text-dark"},[e("li",[t._v("\n                        Get the Authenticator App from the Play Store.\n                        "),e("div",{staticClass:"d-flex flex-row align-items-center"},[e("div",{staticClass:"exo-2FA-steps__link-android"},[e("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"}},[e("img",{staticStyle:{display:"inline-block",width:"150px"},attrs:{alt:"Get it on Google Play",src:"https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png"}})])]),e("a",{staticStyle:{display:"inline-block",overflow:"hidden",background:"url(https://linkmaker.itunes.apple.com/assets/shared/badges/en-us/appstore-lrg.svg) no-repeat",width:"135px",height:"40px","background-size":"contain"},attrs:{href:"https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8"}})])]),e("li",[t._v(" In the App select Set up account.\n                    ")]),e("li",[t._v(" Choose Scan a barcode.\n                    ")])]),e("div",{staticClass:"text-center mb-4 mt-4"},[t.barcode?e("vue-qrcode",{attrs:{value:t.barcode,options:{width:200,color:{dark:"#00919c"}}}}):t._e()],1),e("div",{staticClass:"text-center"},[e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCode=!0}}},[t._v("Can't scan it? or want backup code?")])])])]),e("b-card-body",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step===2"}]},[e("waiter",{ref:"step2waiter"},[e("div",[e("b-input-group",{staticClass:"mb-3"},[e("b-input-group-prepend",[e("b-input-group-text",[t._v("6-digit code")])],1),e("b-form-input",{ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"Enter code that you see in the app",state:!(!t.gaCodeState||t.verifyError)&&null},on:{input:function(e){t.verifyError=""},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.verify.apply(null,arguments)}},model:{value:t.ga_code,callback:function(e){t.ga_code=e},expression:"ga_code"}}),e("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v("\n                            "+t._s(t.verifyError)+"\n                        ")])],1)],1)])],1),e("b-card-body",{directives:[{name:"show",rawName:"v-show",value:3===t.step,expression:"step===3"}]},[e("b-alert",{attrs:{variant:"success",show:""}},[e("h4",{staticClass:"text-center mb-0"},[t._v("2-Step Verification turned on")])])],1),e("b-card-footer",{staticClass:"text-right",attrs:{"footer-bg-variant":"light"}},[e("b-button",{directives:[{name:"show",rawName:"v-show",value:t.step>1&&t.step<3,expression:"step>1 && step<3"}],staticClass:"px-4 mx-1 btn-min",attrs:{variant:"light"},on:{click:function(e){t.step--}}},[t._v("BACK\n            ")]),e("b-button",{directives:[{name:"show",rawName:"v-show",value:t.step<2,expression:"step<2"}],staticClass:"px-4 mx-1 btn-min",attrs:{variant:"primary"},on:{click:function(e){t.step++}}},[t._v("NEXT\n            ")]),e("b-button",{directives:[{name:"show",rawName:"v-show",value:2===t.step,expression:"step===2"}],staticClass:"px-4 mx-1 btn-min",attrs:{variant:"primary",disabled:!t.gaCodeState},on:{click:t.verify}},[t._v("VERIFY\n            ")]),e("b-button",{directives:[{name:"show",rawName:"v-show",value:3===t.step,expression:"step===3"}],staticClass:"px-4 mx-1 btn-min",attrs:{variant:"primary"},on:{click:t.onClose}},[t._v("DONE\n            ")])],1)],1)],1)},i=[],n=a("9a1e"),r=a("b2e5"),o=a.n(r),c={name:"TwoStepAuth",components:{VueQrcode:o.a},props:{u_id:{default:void 0},hideHeader:{default:!1}},data:function(){return{step:1,barcode:"",secretCode:"",showCode:!1,ga_code:"",verifyError:""}},watch:{step:function(t,e){var a=this;2===t&&(this.ga_code="",this.$nextTick((function(){a.$refs.input.focus()})))}},computed:{gaCodeState:function(){return 6===this.ga_code.length||0===this.ga_code.length&&null},error:function(){return this.$store.state.auth.error}},methods:{verify:function(){var t=this;this.gaCodeState&&(this.verifyError="",this.$refs.step2waiter.wait(n["a"].enable2FA({u_id:this.u_id,ga_code:this.ga_code}).then((function(){t.step++})).catch((function(e){if(!e.data||!e.data.error)throw e;t.verifyError=e.data.error}))))},onClose:function(){this.$emit("done")}},mounted:function(){var t=this;n["a"].create2FA({u_id:this.u_id}).then((function(e){t.barcode=e.barcode,t.secretCode=e.code}))}},d=c,l=(a("aa56"),a("2877")),p=Object(l["a"])(d,s,i,!1,null,"0d40bacc",null);e["a"]=p.exports},"890f":function(t,e,a){},aa56:function(t,e,a){"use strict";a("890f")}}]);
//# sourceMappingURL=chunk-6786a976.658b1550.js.map