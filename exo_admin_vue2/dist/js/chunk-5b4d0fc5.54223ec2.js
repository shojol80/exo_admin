(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b4d0fc5"],{"49d0":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("app-screen",{staticClass:"animated fadeIn"},[t("b-row",{staticClass:"mt-3"},[t("b-col",{attrs:{sm:"12",md:"4"}},[t("execute-process",{attrs:{"process-id":e.processId}})],1)],1)],1)},r=[],n=function(){var e=this,t=e._self._c;return t("base-widget",{staticClass:"execute-process",attrs:{title:"Perform maintenance"},on:{execute:function(t){return t.stopPropagation(),e.execute.apply(null,arguments)}}},[t("div",{staticClass:"d-flex mt-3"},[t("x-select",{staticClass:"flex-fill",attrs:{valueFormat:"object",multiple:!1,options:e.processes,"id-key":"id","label-key":"title"},model:{value:e.process,callback:function(t){e.process=t},expression:"process"}}),t("b-button",{staticClass:"ml-3",attrs:{variant:"primary",disabled:!e.process},on:{click:e.execute}},[e._v("Execute")])],1),t("div",{staticClass:"execute-process__desc text-muted mt-3"},[e._v("\n        "+e._s(e.process?e.process.description:"")+"\n    ")]),t("aside-panel",{model:{value:e.showAside,callback:function(t){e.showAside=t},expression:"showAside"}},[t("waiter",{attrs:{show:e.loading}},[t("log-output",{staticClass:"log-aside-output",attrs:{log:e.log}})],1)],1)],1)},c=[],a=(s("96cf"),s("3b8d")),i=s("2c67"),u=function(){var e=this,t=e._self._c;return t("b-card",{attrs:{title:e.title,"border-variant":"primary"}},[t("b-card-text",[e._t("default")],2)],1)},l=[],p={name:"BaseWidget",props:{title:{type:String,required:!0}}},d=p,f=s("2877"),m=Object(f["a"])(d,u,l,!1,null,"0fb52958",null),h=m.exports,g=function(){var e=this,t=e._self._c;return t("b-textarea",{staticClass:"log-output",attrs:{readonly:"",rows:"20",value:e.formatLog}})},b=[],x=s("7618"),v=function(e){return Array.isArray(e)?e.map((function(e){return"object"===Object(x["a"])(e)&&e.formatted?e.formatted:"object"===Object(x["a"])(e)&&e.level||"object"===Object(x["a"])(e)&&e.message?"[".concat(e.level,"] ").concat(e.message):e})).join("\n"):e},w={name:"LogOutput",props:{log:{required:!0}},computed:{formatLog:function(){return v(this.log)}}},y=w,k=Object(f["a"])(y,g,b,!1,null,"8e403292",null),C=k.exports,_={name:"ExecuteProcess",components:{BaseWidget:h,LogOutput:C},props:["processId"],data:function(){return{process:void 0,log:[],loading:!1,showAside:!1}},computed:{processes:function(){return this.ECO.maintenance.processes}},watch:{processId:function(){this.setProcessById(this.processId)}},mounted:function(){this.processId&&this.setProcessById(this.processId)},methods:{setProcessById:function(e){this.process=this.processes.find((function(t){return t.id===e}))},execute:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.log=[],!this.process.dialogComponent){e.next=2;break}return e.next=1,this.$dialogs.showComponent(this.process.dialogComponent);case 1:t=e.sent,e.next=4;break;case 2:return e.next=3,this.$dialogs.confirm({okTitle:"EXECUTE",message:'Are you sure you want to execute "'.concat(this.process.title,'" process?')});case 3:t=e.sent;case 4:if("ok"===t.trigger){e.next=5;break}return e.abrupt("return");case 5:return this.loading=!0,this.showAside=!0,e.prev=6,e.next=7,i["a"].post(this.process.api,t.value);case 7:s=e.sent,this.log=s.log;case 8:return e.prev=8,this.loading=!1,e.finish(8);case 9:case"end":return e.stop()}}),e,this,[[6,,8,9]])})));function t(){return e.apply(this,arguments)}return t}()}},j=_,I=(s("78d7"),Object(f["a"])(j,n,c,!1,null,null,null)),O=I.exports,A={name:"Maintenance",props:["processId"],components:{ExecuteProcess:O}},E=A,P=Object(f["a"])(E,o,r,!1,null,null,null);t["default"]=P.exports},"78d7":function(e,t,s){"use strict";s("dcac")},dcac:function(e,t,s){}}]);
//# sourceMappingURL=chunk-5b4d0fc5.54223ec2.js.map