{"version":3,"sources":["webpack:///./src/views/misc/ChangePassword.vue","webpack:///src/views/misc/ChangePassword.vue","webpack:///./src/views/misc/ChangePassword.vue?482d","webpack:///./src/views/misc/ChangePassword.vue?e657"],"names":["render","_vm","this","_c","_self","staticClass","attrs","directives","name","rawName","value","state","expression","_v","ref","passwordError","model","password","callback","$$v","_s","passwordConfirmError","nativeOn","$event","type","indexOf","_k","keyCode","key","changePassword","apply","arguments","passwordConfirm","on","goLogin","canChangePassword","staticRenderFns","components","UnsplashBackgroud","data","error2FA","computed","length","mounted","$refs","passwordEl","focus","methods","me","hash","$route","query","$store","dispatch","then","result","$awn","success","$router","push","R_LOGIN","alert","_this","getters","component"],"mappings":"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","file":"js/chunk-2d0ab08f.fe66c332.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('unsplash-backgroud',{staticClass:\"center-position\"},[_c('b-card',{staticClass:\"p-3 animated fadeIn auth-card\",attrs:{\"no-body\":\"\",\"img-src\":\"/exo_admin/img/brand/logo.png\",\"img-alt\":\"ExologCMS\"}},[_c('b-card-body',[_c('b-form',[_c('b-form-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state==='INPUT-PASSWORD'),expression:\"state==='INPUT-PASSWORD'\"}]},[_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Enter new password.\")]),_c('b-input-group',{staticClass:\"mb-3\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('icon',{staticClass:\"fa-fw\",attrs:{\"icon\":\"fas fa-key\"}})],1)],1),_c('b-form-input',{ref:\"passwordEl\",staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"state\":_vm.passwordError?false:null},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"inputPasswordFeedback\"}},[_vm._v(\"\\n                            \"+_vm._s(_vm.passwordError)+\"\\n                        \")])],1),_c('b-input-group',{staticClass:\"mb-3\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('icon',{staticClass:\"fa-fw\",attrs:{\"icon\":\"fas fa-key\"}})],1)],1),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Confirm password\",\"state\":_vm.passwordConfirmError?false:null},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.changePassword.apply(null, arguments)}},model:{value:(_vm.passwordConfirm),callback:function ($$v) {_vm.passwordConfirm=$$v},expression:\"passwordConfirm\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"inputLiveFeedback\"}},[_vm._v(\"\\n                            \"+_vm._s(_vm.passwordConfirmError)+\"\\n                        \")])],1)],1),_c('b-row',[_c('b-col',{staticClass:\"d-flex justify-content-between\"},[_c('b-button',{staticClass:\"px-0\",attrs:{\"variant\":\"link\"},on:{\"click\":_vm.goLogin}},[_vm._v(\"\\n                            Login\\n                        \")]),_c('b-button',{staticClass:\"btn-min\",attrs:{\"variant\":\"primary\",\"disabled\":!_vm.canChangePassword},on:{\"click\":_vm.changePassword}},[_vm._v(\"Change password\\n                        \")])],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <unsplash-backgroud class=\"center-position\">\n        <b-card\n            no-body class=\"p-3 animated fadeIn auth-card\"\n            img-src=\"/exo_admin/img/brand/logo.png\"\n            img-alt=\"ExologCMS\">\n            <b-card-body>\n                <b-form>\n                    <b-form-group v-show=\"state==='INPUT-PASSWORD'\">\n                        <p class=\"text-muted\">Enter new password.</p>\n                        <b-input-group class=\"mb-3\">\n                            <b-input-group-prepend>\n                                <b-input-group-text>\n                                    <icon icon=\"fas fa-key\" class=\"fa-fw\"></icon>\n                                </b-input-group-text>\n                            </b-input-group-prepend>\n                            <b-form-input type=\"password\"\n                                          class=\"form-control\"\n                                          ref=\"passwordEl\"\n                                          placeholder=\"Password\"\n                                          :state=\"passwordError?false:null\"\n                                          v-model=\"password\">\n                            </b-form-input>\n                            <b-form-invalid-feedback id=\"inputPasswordFeedback\">\n                                <!-- This will only be shown if the preceeding input has an invalid state -->\n                                {{passwordError}}\n                            </b-form-invalid-feedback>\n                        </b-input-group>\n                        <b-input-group class=\"mb-3\">\n                            <b-input-group-prepend>\n                                <b-input-group-text><icon icon=\"fas fa-key\" class=\"fa-fw\"></icon></b-input-group-text>\n                            </b-input-group-prepend>\n                            <b-form-input type=\"password\"\n                                          class=\"form-control\"\n                                          placeholder=\"Confirm password\"\n                                          :state=\"passwordConfirmError?false:null\"\n                                          v-model=\"passwordConfirm\"\n                                          @keyup.native.enter=\"changePassword\">\n                            </b-form-input>\n                            <b-form-invalid-feedback id=\"inputLiveFeedback\">\n                                <!-- This will only be shown if the preceeding input has an invalid state -->\n                                {{passwordConfirmError}}\n                            </b-form-invalid-feedback>\n                        </b-input-group>\n                    </b-form-group>\n                    <b-row>\n                        <b-col class=\"d-flex justify-content-between\">\n                            <b-button variant=\"link\" class=\"px-0\"\n                                      @click=\"goLogin\">\n                                Login\n                            </b-button>\n                            <b-button variant=\"primary\"\n                                      class=\"btn-min\"\n                                      :disabled=\"!canChangePassword\"\n                                      @click=\"changePassword\">Change password\n                            </b-button>\n                        </b-col>\n                    </b-row>\n                </b-form>\n            </b-card-body>\n        </b-card>\n    </unsplash-backgroud>\n</template>\n\n<script>\nimport {R_LOGIN} from '@/router/routs'\nimport UnsplashBackgroud from '@/components/UnsplashBackgroud'\nimport store from '@/store'\n\n\nexport default {\n    name: 'ChangePassword',\n    components: {\n        UnsplashBackgroud\n    },\n    data() {\n        return {\n            state: 'INPUT-PASSWORD',\n            password: '',\n            passwordConfirm: '',\n            error2FA: '',\n        }\n    },\n    computed: {\n        passwordError() {\n            if (this.password.length === 0) {\n                return ''\n            }\n            if (this.password.length < 6) {\n                return 'The minimum password length is 6 characters.'\n            }\n            return ''\n\n        },\n        passwordConfirmError() {\n            if (this.password !== this.passwordConfirm && this.passwordConfirm.length > 0) {\n                return 'Passwords do not match.'\n            }\n            return ''\n        },\n        canChangePassword() {\n            return this.passwordError === '' && this.passwordConfirmError === '' && this.password.length > 0 && this.passwordConfirm.length > 0\n        }\n    },\n    mounted() {\n        this.$refs.passwordEl.focus()\n\n    },\n    methods: {\n        changePassword() {\n            if (!this.canChangePassword) return\n\n            let me = this;\n            let hash = me.$route.query.hash;\n            if (!hash) {\n                me.$awn.alert('Incorrect password change link!')\n                return;\n            }\n\n            const {password} = this\n            this.$store.dispatch('auth/changePassword', {hash, password}).then((result) => {\n                me.$awn.success('The password has been changed successfully. Please login.')\n                me.$router.push({name: R_LOGIN});\n\n            })\n        },\n\n        goLogin() {\n            if (this.$store.getters['auth/status'] === 'success') {\n                this.$store.dispatch('auth/logout').then(() => {\n                    this.$router.push({name: R_LOGIN})\n                })\n            } else {\n                this.$router.push({name: R_LOGIN})\n            }\n\n        }\n    }\n\n}\n</script>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChangePassword.vue?vue&type=template&id=cd09af00&scoped=true\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd09af00\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}