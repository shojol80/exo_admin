{"version":3,"sources":["webpack:///./src/mixins/showDeprecated.js","webpack:///./src/views/users/Usergroup.vue","webpack:///src/views/users/Usergroup.vue","webpack:///./src/views/users/Usergroup.vue?fc15","webpack:///./src/views/users/Usergroup.vue?98b5"],"names":["computed","showDeprecated","this","$store","getters","render","_vm","_c","_self","ref","scopedSlots","_u","key","fn","_ref","invalid","attrs","_ref2","valid","errors","model","value","usergroup","ug_name","callback","$$v","$set","expression","$icons","save","on","ug_id","reload","load","staticClass","slot","properties","_v","ug_alias","ug_info","ug_isnewsletter","ug_isadmin","variables","proxy","vars","staticRenderFns","name","components","VarsEditor","mixins","props","required","type","data","watch","newVal","oldVal","mounted","methods","new","_this","$nextTick","$refs","focus","_this2","waiter","wait","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","users","getUsergroup","sent","stop","_save","_callee3","_this3","_context3","observer","validate","abrupt","$route","query","ug_parent","_callee2","response","_context2","saveUsergroup","$router","replace","R_USERGROUP_EDIT","params","apply","arguments","component"],"mappings":"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","file":"js/chunk-b164107a.27b4b3a7.js","sourcesContent":["export default {\n    computed: {\n        showDeprecated() {\n            return this.$store.getters['site/getSiteVarValue']('show_deprecated_feature')\n        }\n    },\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('waiter',{ref:\"waiter\"},[_c('ValidationObserver',{ref:\"observer\",scopedSlots:_vm._u([{key:\"default\",fn:function({ invalid }){return [_c('action-toolbar',[_c('action-group',[_c('ValidationProvider',{attrs:{\"rules\":\"required\",\"name\":\"title\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return _c('action-input',{ref:\"name\",attrs:{\"valid\":valid,\"errors\":errors},model:{value:(_vm.usergroup.ug_name),callback:function ($$v) {_vm.$set(_vm.usergroup, \"ug_name\", $$v)},expression:\"usergroup.ug_name\"}})}}],null,true)}),_c('action-group-separator'),_c('action-button',{attrs:{\"title\":\"Save\",\"icon\":_vm.$icons.save,\"shortkey\":\"['ctrl', 's']\"},on:{\"action\":_vm.save}}),_c('action-button',{attrs:{\"disabled\":_vm.ug_id==='new',\"title\":\"Reload\",\"icon\":_vm.$icons.reload},on:{\"action\":_vm.load}})],1)],1),_c('b-tabs',{staticClass:\"x-tabs\"},[_c('b-tab',{attrs:{\"active\":\"\"}},[_c('template',{slot:\"title\"},[_c('icon',{attrs:{\"icon\":_vm.$icons.properties}}),_vm._v(\"\\n                    Properties\\n                \")],1),_c('x-form-input',{attrs:{\"title\":\"Usergroup ID\",\"db-field\":\"ug_id\",\"readonly\":\"\"},model:{value:(_vm.usergroup.ug_id),callback:function ($$v) {_vm.$set(_vm.usergroup, \"ug_id\", $$v)},expression:\"usergroup.ug_id\"}}),_c('x-form-input',{attrs:{\"title\":\"Alias\",\"db-field\":\"ug_alias\"},model:{value:(_vm.usergroup.ug_alias),callback:function ($$v) {_vm.$set(_vm.usergroup, \"ug_alias\", $$v)},expression:\"usergroup.ug_alias\"}}),_c('x-form-text-area',{attrs:{\"title\":\"Description\",\"db-field\":\"ug_info\"},model:{value:(_vm.usergroup.ug_info),callback:function ($$v) {_vm.$set(_vm.usergroup, \"ug_info\", $$v)},expression:\"usergroup.ug_info\"}}),_c('x-form-switch',{attrs:{\"title\":\"Newsletter group\",\"db-field\":\"ug_isnewsletter\"},model:{value:(_vm.usergroup.ug_isnewsletter),callback:function ($$v) {_vm.$set(_vm.usergroup, \"ug_isnewsletter\", $$v)},expression:\"usergroup.ug_isnewsletter\"}}),_c('x-form-switch',{attrs:{\"title\":\"Admin group\",\"db-field\":\"ug_isadmin\"},model:{value:(_vm.usergroup.ug_isadmin),callback:function ($$v) {_vm.$set(_vm.usergroup, \"ug_isadmin\", $$v)},expression:\"usergroup.ug_isadmin\"}})],2),_c('b-tab',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('icon',{attrs:{\"icon\":_vm.$icons.variables}}),_vm._v(\"\\n                    Variables\\n                \")]},proxy:true}],null,true)},[_c('vars-editor',{model:{value:(_vm.usergroup.vars),callback:function ($$v) {_vm.$set(_vm.usergroup, \"vars\", $$v)},expression:\"usergroup.vars\"}})],1)],1)]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <waiter ref=\"waiter\">\n        <ValidationObserver ref=\"observer\" v-slot=\"{ invalid }\">\n            <action-toolbar>\n                <action-group>\n                    <ValidationProvider rules=\"required\" name=\"title\" slim>\n                        <action-input\n                            ref=\"name\"\n                            slot-scope=\"{ valid, errors }\"\n                            :valid=\"valid\"\n                            :errors=\"errors\"\n                            v-model=\"usergroup.ug_name\"></action-input>\n                    </ValidationProvider>\n                    <action-group-separator></action-group-separator>\n                    <action-button title=\"Save\" :icon=\"$icons.save\" @action=\"save\"\n                                   shortkey=\"['ctrl', 's']\">\n                    </action-button>\n                    <action-button :disabled=\"ug_id==='new'\" title=\"Reload\" :icon=\"$icons.reload\"\n                                   @action=\"load\">\n                    </action-button>\n                </action-group>\n            </action-toolbar>\n            <b-tabs class=\"x-tabs\">\n                <b-tab active>\n                    <template slot=\"title\">\n                        <icon :icon=\"$icons.properties\"></icon>\n                        Properties\n                    </template>\n\n                    <x-form-input\n                        title=\"Usergroup ID\"\n                        v-model=\"usergroup.ug_id\"\n                        db-field=\"ug_id\"\n                        readonly>\n                    </x-form-input>\n\n                    <x-form-input\n                        title=\"Alias\"\n                        v-model=\"usergroup.ug_alias\"\n                        db-field=\"ug_alias\">\n                    </x-form-input>\n\n                    <x-form-text-area\n                        title=\"Description\"\n                        v-model=\"usergroup.ug_info\"\n                        db-field=\"ug_info\">\n                    </x-form-text-area>\n\n                    <x-form-switch\n                        title=\"Newsletter group\"\n                        v-model=\"usergroup.ug_isnewsletter\"\n                        db-field=\"ug_isnewsletter\">\n                    </x-form-switch>\n\n                    <x-form-switch\n                        title=\"Admin group\"\n                        v-model=\"usergroup.ug_isadmin\"\n                        db-field=\"ug_isadmin\">\n                    </x-form-switch>\n\n                </b-tab>\n                <b-tab>\n                    <template #title>\n                        <icon :icon=\"$icons.variables\"></icon>\n                        Variables\n                    </template>\n                    <vars-editor\n                        v-model=\"usergroup.vars\">\n                    </vars-editor>\n                </b-tab>\n            </b-tabs>\n        </ValidationObserver>\n    </waiter>\n</template>\n\n<script>\n\nimport {R_USERGROUP_EDIT} from \"@/router/routs\"\nimport users from '@/services/api/users'\nimport showDeprecated from '@/mixins/showDeprecated'\nimport VarsEditor from \"@/components/Vars/VarsEditor.vue\";\n\nexport default {\n    name: 'Usergroup',\n    components: {VarsEditor},\n    mixins: [showDeprecated],\n    props: {\n        ug_id: {\n            required: true,\n            type: null,\n        },\n    },\n    data() {\n        return {\n            usergroup: {\n                ug_name: null,\n                vars:[]\n            },\n        }\n    },\n    watch: {\n        ug_id(newVal, oldVal) {\n            if (newVal !== oldVal) this.load()\n        }\n    },\n    mounted() {\n        this.load()\n    },\n    methods: {\n        new() {\n            this.usergroup.ug_name = 'New user group'\n\n            this.$nextTick(() => {\n                this.$refs.name.focus()\n            })\n        },\n\n        load() {\n            if (this.ug_id === 'new') {\n                this.new()\n                return\n            }\n            this.$refs.waiter.wait(async () => {\n                    this.usergroup = await users.getUsergroup({ug_id: this.ug_id})\n                }\n            )\n        },\n\n        async save() {\n\n            if (!await this.$refs.observer.validate()) return\n\n            if (this.$route.query.ug_parent && +this.$route.query.ug_parent !== 0) {\n                this.usergroup.ug_parent = this.$route.query.ug_parent\n            }\n\n            await this.$refs.waiter.wait(async () => {\n                const response = await users.saveUsergroup(this.usergroup)\n                if (this.ug_id === 'new') {\n                    await this.$router.replace({\n                        name: R_USERGROUP_EDIT, params: {\n                            ug_id: response.ug_id\n                        }\n                    })\n                } else {\n                    this.load()\n                }\n            })\n        },\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Usergroup.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Usergroup.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Usergroup.vue?vue&type=template&id=f279d310\"\nimport script from \"./Usergroup.vue?vue&type=script&lang=js\"\nexport * from \"./Usergroup.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}