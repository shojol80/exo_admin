(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77e46910"],{"0022":function(e,t,r){"use strict";t["a"]={methods:{selectByRoute:function(e){var t=this;this.$nextTick((function(){var r=t.$refs.xtree.tree;if(!(r.selected().length>0)){var n=r.find({id:+t.$route.params[e.id]});n&&0!==n.length||(n=r.find({id:+t.$route.query[e.parent]})),n&&0!==n.length||(n=r.find({id:"0"})),n&&n.length>0&&t.$refs.xtree.selectAndExpand(n[0])}}))}}}},"6b7d":function(e,t,r){"use strict";t["a"]={computed:{showGroupTree:function(){return!("POPUP"===this.$store.getters["app/screenMode"]&&this.$route.meta.hideTreeInPopup)}}}},dc02:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("app-screen",[e.showGroupTree?t("template",{slot:"aside"},[t("user-group-tree",{staticClass:"mt-3"})],1):e._e()],2)},i=[],u=function(){var e=this,t=e._self._c;return t("waiter",{ref:"waiter"},[t("x-tree",{ref:"xtree",attrs:{data:e.groupsTree,options:e.options},on:{add:e.onAdd,edit:e.onEdit,delete:e.onDelete,click:e.onClick}})],1)},a=[],s=(r("96cf"),r("3b8d")),o=r("b991"),d=r("2c2f"),c=r("0022"),p={name:"UserGroupTree",mixins:[c["a"]],data:function(){return{options:{customNodeEdit:!0,propertyNames:{text:"ug_name",children:"ug_children",id:"ug_id"}}}},computed:{groupsTree:function(){return[{ug_name:"All Users",ug_children:this.$store.getters["usergroups/usergroupsTree"],ug_id:"0",state:{selected:!1,selectable:!0,checked:!1,expanded:!0,indeterminate:!1,matched:!1,editable:!1,deleteble:!1,append:!0,dragging:!1,draggable:!1,dropable:!0},data:{type:"root"}}]}},watch:{groupTree:{immediate:!0,deep:!0,handler:function(){this.selectByRoute({id:"ug_id",parent:"ug_parent"})}},$route:function(e,t){this.selectByRoute({id:"ug_id",parent:"ug_parent"})}},mounted:function(){this.selectByRoute({id:"ug_id",parent:"ug_parent"})},methods:{onAdd:function(e){e.select(),this.$router.push({name:o["L"],params:{ug_id:"new"},query:{ug_parent:e.id}})},onEdit:function(e){e.select(),this.$router.push({name:o["L"],params:{ug_id:e.id}})},onDelete:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=1,this.$dialogs.confirmDelete({title:"Delete Node",message:'Are you sure want to delete group "'.concat(t.data.text,'"?')});case 1:if(r=e.sent,"ok"!==r.trigger){e.next=3;break}if(this.$route.params.ug_id!==t.id){e.next=2;break}return e.next=2,this.$router.push({name:o["N"],params:{ug_id:t.parent.id}});case 2:return e.next=3,this.$refs.waiter.wait(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=1,d["a"].deleteUsergroup({ug_id:t.id});case 1:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onClick:function(e){this.$router.push({name:o["N"],params:{ug_id:e.id}})}}},l=p,h=r("2877"),g=Object(h["a"])(l,u,a,!1,null,null,null),f=g.exports,m=r("6b7d"),_={name:"Users",mixins:[m["a"]],components:{UserGroupTree:f},watch:{$route:function(e,t){}},methods:{updatebreadcrumb:function(){}},mounted:function(){}},w=_,x=Object(h["a"])(w,n,i,!1,null,null,null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-77e46910.cdbaeecd.js.map