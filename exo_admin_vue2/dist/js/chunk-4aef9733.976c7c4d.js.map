{"version":3,"sources":["webpack:///./src/views/pages/Edition.vue","webpack:///src/views/pages/Edition.vue","webpack:///./src/views/pages/Edition.vue?0a88","webpack:///./src/views/pages/Edition.vue?a65d","webpack:///./src/views/pages/Edition.vue?899b","webpack:///./src/components/DomainName.vue","webpack:///src/components/DomainName.vue","webpack:///./src/components/DomainName.vue?6fb9","webpack:///./src/components/DomainName.vue?ca65","webpack:///./src/components/LinkDomainModal.vue?4c67","webpack:///./src/mixins/showDeprecated.js","webpack:///./src/components/statefull/EntityDomainList.vue?72a9","webpack:///./src/components/statefull/EntityDomainList.vue","webpack:///./src/components/LinkDomainModal.vue","webpack:///src/components/LinkDomainModal.vue","webpack:///./src/components/LinkDomainModal.vue?51ed","webpack:///./src/components/LinkDomainModal.vue?8ba9","webpack:///src/components/statefull/EntityDomainList.vue","webpack:///./src/components/statefull/EntityDomainList.vue?8770","webpack:///./src/components/statefull/EntityDomainList.vue?336d"],"names":["render","_vm","this","_c","_self","ref","scopedSlots","_u","key","fn","_ref","invalid","staticClass","attrs","_ref2","valid","errors","model","value","edition","e_title","callback","$$v","$set","expression","$icons","save","on","reload","e_id","load","properties","_v","proxy","domains","e_isclosed","variables","vars","staticRenderFns","name","mixins","showDeprecated","components","VarsEditor","EntityDomainList","props","String","Number","data","e_info","watch","newVal","oldVal","mounted","methods","new","_this","$nextTick","$refs","focus","_load","_asyncToGenerator","regeneratorRuntime","mark","_callee2","_this2","wrap","_context2","prev","next","abrupt","waiter","wait","_callee","_context","editions","getEdition","sent","stop","apply","arguments","_save","_callee4","isValid","_this3","_context4","observer","validate","_callee3","_","_context3","saveEdition","$router","replace","R_EDITION_EDIT","params","_x","component","class","domain","is_readonly","domain_name","_s","domain_ismain","_e","domain_isdefault","Object","computed","$store","getters","_l","domain_id","pin","$event","onActionDefault","unlink","onActionUnlink","link","onActionLink","availableDomains","allDomains","title","onCancel","onSave","isOpen","activeTab","selectedDomain","ruleObject","subdomainValue","parentDomains","subdomainParent","error","index","message","modalProps","default","open","Array","required","regex","show","Promise","resolve","modal","e","preventDefault","then","validateSubdomain","subdomain","length","setErrors","genID","LinkDomainModal","DomainName","prop","event","type","state","pages","filter","startsWith","some","item","_onActionLink","_objectSpread","$emit","concat","_toConsumableArray","d","map"],"mappings":"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","file":"js/chunk-4aef9733.976c7c4d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('waiter',{ref:\"waiter\"},[_c('ValidationObserver',{ref:\"observer\",scopedSlots:_vm._u([{key:\"default\",fn:function({ invalid }){return [_c('action-toolbar',[_c('action-group',{staticClass:\"mr-2\"},[_c('action-back'),_c('action-group-separator'),_c('ValidationProvider',{attrs:{\"rules\":\"required\",\"name\":\"title\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return [_c('action-input',{ref:\"name\",attrs:{\"valid\":valid,\"errors\":errors},model:{value:(_vm.edition.e_title),callback:function ($$v) {_vm.$set(_vm.edition, \"e_title\", $$v)},expression:\"edition.e_title\"}})]}}],null,true)}),_c('action-button',{attrs:{\"title\":\"Save\",\"icon\":_vm.$icons.save,\"shortkey\":\"['ctrl', 's']\",\"disabled\":invalid},on:{\"action\":_vm.save}}),_c('action-button',{attrs:{\"title\":\"Reload\",\"icon\":_vm.$icons.reload,\"disabled\":_vm.e_id==='new'},on:{\"action\":_vm.load}})],1)],1),_c('b-tabs',{staticClass:\"x-tabs\"},[_c('b-tab',{attrs:{\"active\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('icon',{attrs:{\"icon\":_vm.$icons.properties}}),_vm._v(\"\\n                    Properties\\n                \")]},proxy:true}],null,true)},[_c('x-form-input',{attrs:{\"title\":\"Edition ID\",\"db-field\":\"e_id\",\"readonly\":\"\"},model:{value:(_vm.edition.e_id),callback:function ($$v) {_vm.$set(_vm.edition, \"e_id\", $$v)},expression:\"edition.e_id\"}}),_c('x-form-group',{attrs:{\"title\":\"Domains\"}},[_c('entity-domain-list',{model:{value:(_vm.edition.domains),callback:function ($$v) {_vm.$set(_vm.edition, \"domains\", $$v)},expression:\"edition.domains\"}})],1),_c('x-form-switch',{attrs:{\"title\":\"Site is closed for visitors\",\"db-field\":\"e_isclosed\"},model:{value:(_vm.edition.e_isclosed),callback:function ($$v) {_vm.$set(_vm.edition, \"e_isclosed\", $$v)},expression:\"edition.e_isclosed\"}})],1),_c('b-tab',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('icon',{attrs:{\"icon\":_vm.$icons.variables}}),_vm._v(\"\\n                    Variables\\n                \")]},proxy:true}],null,true)},[_c('vars-editor',{model:{value:(_vm.edition.vars),callback:function ($$v) {_vm.$set(_vm.edition, \"vars\", $$v)},expression:\"edition.vars\"}})],1)],1)]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <waiter ref=\"waiter\">\n        <ValidationObserver ref=\"observer\" v-slot=\"{ invalid }\">\n            <action-toolbar>\n                <action-group class=\"mr-2\">\n                    <action-back></action-back>\n                    <action-group-separator></action-group-separator>\n                    <ValidationProvider rules=\"required\" name=\"title\" slim v-slot=\"{ valid, errors }\">\n                        <action-input\n                            ref=\"name\"\n                            :valid=\"valid\"\n                            :errors=\"errors\"\n                            v-model=\"edition.e_title\"></action-input>\n                    </ValidationProvider>\n                    <action-button title=\"Save\" :icon=\"$icons.save\" @action=\"save\"\n                                   shortkey=\"['ctrl', 's']\"\n                                   :disabled=\"invalid\">\n                    </action-button>\n                    <action-button title=\"Reload\" :icon=\"$icons.reload\"\n                                   @action=\"load\"\n                                   :disabled=\"e_id==='new'\">\n                    </action-button>\n                </action-group>\n            </action-toolbar>\n            <b-tabs class=\"x-tabs\">\n                <b-tab active>\n                    <template #title>\n                        <icon :icon=\"$icons.properties\"></icon>\n                        Properties\n                    </template>\n\n                    <x-form-input\n                        title=\"Edition ID\"\n                        v-model=\"edition.e_id\"\n                        db-field=\"e_id\"\n                        readonly>\n                    </x-form-input>\n\n                    <x-form-group title=\"Domains\">\n                        <entity-domain-list\n                            v-model=\"edition.domains\">\n                        </entity-domain-list>\n                    </x-form-group>\n\n                    <x-form-switch\n                        title=\"Site is closed for visitors\"\n                        v-model=\"edition.e_isclosed\"\n                        db-field=\"e_isclosed\">\n                    </x-form-switch>\n                </b-tab>\n                <b-tab>\n                    <template #title>\n                        <icon :icon=\"$icons.variables\"></icon>\n                        Variables\n                    </template>\n                    <vars-editor\n                        v-model=\"edition.vars\">\n                    </vars-editor>\n                </b-tab>\n            </b-tabs>\n        </ValidationObserver>\n    </waiter>\n</template>\n\n<script>\nimport EntityDomainList from \"@/components/statefull/EntityDomainList.vue\"\nimport {R_EDITION_EDIT} from \"@/router/routs\"\nimport showDeprecated from '@/mixins/showDeprecated'\nimport editions from \"@/services/api/editions\";\nimport VarsEditor from \"@/components/Vars/VarsEditor.vue\";\n\nexport default {\n    name: 'Edition',\n    mixins: [showDeprecated],\n    components: {\n        VarsEditor,\n        EntityDomainList,\n    },\n    props: {\n        e_id: [String, Number],\n    },\n    data() {\n        return {\n            edition: {\n                e_id: null,\n                e_isclosed: 0,\n                e_title: null,\n                e_info: null,\n                vars: [],\n                domains: [],\n            },\n        }\n    },\n    watch: {\n        e_id(newVal, oldVal) {\n            if (newVal !== oldVal) this.load()\n        }\n    },\n    mounted() {\n        this.load()\n    },\n    methods: {\n        new() {\n            this.edition.e_title = 'New edition'\n\n            this.$nextTick(() => {\n                this.$refs.name.focus()\n            })\n        },\n\n        async load() {\n            if (this.e_id && this.e_id === 'new') {\n                this.new()\n                return\n            }\n\n            await this.$refs.waiter.wait(async () => {\n                    this.edition = await editions.getEdition({e_id: this.e_id})\n                }\n            )\n        },\n        async save() {\n            const isValid = await this.$refs.observer.validate()\n\n            if (!isValid) return\n\n            await this.$refs.waiter.wait(async (_) => {\n                    const edition = await editions.saveEdition(this.edition)\n                    if (this.e_id === 'new') {\n                        await this.$router.replace({name: R_EDITION_EDIT, params: {e_id: edition.e_id}});\n                    } else {\n                        await this.load()\n                    }\n                }\n            )\n        },\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"src/assets/scss/vue-component\";\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edition.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edition.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Edition.vue?vue&type=template&id=d91850ec&scoped=true\"\nimport script from \"./Edition.vue?vue&type=script&lang=js\"\nexport * from \"./Edition.vue?vue&type=script&lang=js\"\nimport style0 from \"./Edition.vue?vue&type=style&index=0&id=d91850ec&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d91850ec\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edition.vue?vue&type=style&index=0&id=d91850ec&prod&scoped=true&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('a',{staticClass:\"mr-2\",class:{ 'text-muted': _vm.domain.is_readonly==1 },attrs:{\"href\":'https://'+_vm.domain.domain_name,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.domain.domain_name))]),(_vm.domain.domain_ismain===1)?_c('span',{staticClass:\"badge badge-danger mr-2\"},[_vm._v(\"main\")]):_vm._e(),(_vm.domain.domain_isdefault===1)?_c('span',{staticClass:\"badge badge-secondary\"},[_vm._v(\"default\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <a :class=\"{ 'text-muted': domain.is_readonly==1 }\" :href=\"'https://'+domain.domain_name\" target=\"_blank\"\n           class=\"mr-2\">{{domain.domain_name}}</a>\n        <span v-if=\"domain.domain_ismain===1\" class=\"badge badge-danger mr-2\">main</span>\n        <span v-if=\"domain.domain_isdefault===1\" class=\"badge badge-secondary\">default</span>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"DomainName\",\n    props: {\n        domain: Object\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainName.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainName.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DomainName.vue?vue&type=template&id=33a57b06\"\nimport script from \"./DomainName.vue?vue&type=script&lang=js\"\nexport * from \"./DomainName.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkDomainModal.vue?vue&type=style&index=0&id=13959cda&prod&lang=scss\"","export default {\n    computed: {\n        showDeprecated() {\n            return this.$store.getters['site/getSiteVarValue']('show_deprecated_feature')\n        }\n    },\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityDomainList.vue?vue&type=style&index=0&id=b58300b4&prod&scoped=true&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"domain-list\"},[_c('b-list-group',_vm._l((_vm.domains),function(domain){return _c('b-list-group-item',{key:domain.domain_id,staticClass:\"d-flex justify-content-between align-items-center\"},[_c('domain-name',{attrs:{\"domain\":domain}}),_c('action-group',{staticClass:\"domain-list__actions\"},[(+domain.domain_isdefault!==1)?_c('action-button',{attrs:{\"title\":\"Set domain default\",\"icon\":_vm.$icons.pin},on:{\"action\":function($event){return _vm.onActionDefault(domain)}}}):_vm._e(),(+domain.is_readonly!==1)?_c('action-button',{attrs:{\"title\":\"Unlink domain\",\"icon\":_vm.$icons.unlink},on:{\"action\":function($event){return _vm.onActionUnlink(domain)}}}):_vm._e()],1)],1)}),1),_c('action-group',{staticClass:\"mt-1\"},[_c('action-button',{attrs:{\"title\":\"Link domain\",\"icon\":_vm.$icons.link},on:{\"action\":function($event){return _vm.onActionLink()}}})],1),_c('link-domain-modal',{ref:\"modal\",attrs:{\"domains\":_vm.availableDomains,\"parent-domains\":_vm.allDomains}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{ref:\"modal\",attrs:{\"modal-class\":\"modal-primary modal-min-btn link-domain-modal\",\"title\":_vm.title,\"hide-header-close\":\"\",\"centered\":\"\",\"cancel-title\":\"CANCEL\",\"cancel-variant\":\"light\",\"ok-title\":\"OK\",\"ok-variant\":\"primary\"},on:{\"cancel\":_vm.onCancel,\"ok\":_vm.onSave},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('waiter',{ref:\"waiter\"},[_c('div',[_c('b-tabs',{attrs:{\"fill\":\"\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('b-tab',{attrs:{\"title\":\"Select domain\",\"active\":\"\"}},[_c('p'),_c('x-select',{attrs:{\"clearable\":false,\"multiple\":false,\"options\":_vm.domains,\"valueFormat\":\"object\",\"id-key\":\"domain_id\",\"label-key\":\"domain_name\"},model:{value:(_vm.selectedDomain),callback:function ($$v) {_vm.selectedDomain=$$v},expression:\"selectedDomain\"}})],1),_c('b-tab',{attrs:{\"title\":\"Add new subdomain\"}},[_c('ValidationObserver',{ref:\"observer\",scopedSlots:_vm._u([{key:\"default\",fn:function({ invalid, errors }){return [_c('p'),_c('div',{staticClass:\"link-domain-modal__subdomain\"},[_c('div',[_c('ValidationProvider',{attrs:{\"rules\":_vm.ruleObject,\"name\":\"subdomain\",\"debounce\":200},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return [_c('b-input',{staticClass:\"link-domain-modal__subdomain-value\",attrs:{\"state\":errors[0] ? false : null},model:{value:(_vm.subdomainValue),callback:function ($$v) {_vm.subdomainValue=$$v},expression:\"subdomainValue\"}})]}}],null,true)})],1),_c('span',{staticClass:\"px-1\"},[_vm._v(\".\")]),_c('x-select',{attrs:{\"clearable\":false,\"multiple\":false,\"options\":_vm.parentDomains,\"valueFormat\":\"object\",\"id-key\":\"domain_id\",\"label-key\":\"domain_name\"},model:{value:(_vm.subdomainParent),callback:function ($$v) {_vm.subdomainParent=$$v},expression:\"subdomainParent\"}})],1),_c('div',{staticClass:\"mt-2\"},_vm._l((errors),function(error,index){return _c('p',{key:index,staticClass:\"text-danger\"},[_vm._l((error),function(message,index){return [_c('span',{key:index},[_vm._v(\"\\n                                    \"+_vm._s(message)+\"\\n                                \")]),_c('br')]})],2)}),0)]}}])})],1)],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-modal modal-class=\"modal-primary modal-min-btn link-domain-modal\"\n             v-model=\"isOpen\"\n             :title=\"title\"\n             hide-header-close\n             centered\n             cancel-title=\"CANCEL\"\n             @cancel=\"onCancel\"\n             cancel-variant=\"light\"\n             @ok=\"onSave\"\n             ok-title=\"OK\"\n             ok-variant=\"primary\"\n             ref=\"modal\">\n        <waiter ref=\"waiter\">\n            <div>\n                <b-tabs fill v-model=\"activeTab\">\n                    <b-tab title=\"Select domain\" active>\n                        <p></p>\n                        <x-select v-model=\"selectedDomain\"\n                                  :clearable=\"false\"\n                                  :multiple=\"false\"\n                                  :options=\"domains\"\n                                  valueFormat=\"object\"\n                                  id-key=\"domain_id\"\n                                  label-key=\"domain_name\"/>\n                    </b-tab>\n                    <b-tab title=\"Add new subdomain\">\n                        <ValidationObserver ref=\"observer\" v-slot=\"{ invalid, errors }\">\n                            <p></p>\n                            <div class=\"link-domain-modal__subdomain\">\n                                <div>\n                                    <ValidationProvider :rules=\"ruleObject\"\n                                                        name=\"subdomain\"\n                                                        :debounce=\"200\"\n                                                        v-slot=\"{ valid, errors }\">\n                                        <b-input v-model=\"subdomainValue\"\n                                                 class=\"link-domain-modal__subdomain-value\"\n                                                 :state=\"errors[0] ? false : null\"\n                                        />\n                                    </ValidationProvider>\n                                </div>\n                                <span class=\"px-1\">.</span>\n                                <x-select v-model=\"subdomainParent\"\n                                          :clearable=\"false\"\n                                          :multiple=\"false\"\n                                          :options=\"parentDomains\"\n                                          valueFormat=\"object\"\n                                          id-key=\"domain_id\"\n                                          label-key=\"domain_name\"/>\n                            </div>\n                            <div class=\"mt-2\">\n                                <p v-for=\"(error,index) in errors\" :key=\"index\" class=\"text-danger\">\n                                    <template v-for=\"(message,index) in error\">\n                                        <span :key=\"index\">\n                                        {{message}}\n                                    </span><br>\n                                    </template>\n                                </p>\n                            </div>\n                        </ValidationObserver>\n                    </b-tab>\n                </b-tabs>\n            </div>\n        </waiter>\n    </b-modal>\n</template>\n\n<script>\n\nimport domains from '@/services/api/domains'\n\nexport default {\n    name: \"LinkDomainModal\",\n    props: {\n        modalProps: {},\n        title: {default: 'Domains'},\n        open: false,\n        domains: Array,\n        parentDomains: Array\n    },\n    data() {\n        return {\n            ruleObject: {\n                required: true,\n                regex: /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?$/,\n            },\n            selectedDomain: null,\n            subdomainValue: null,\n            subdomainParent: null,\n            isOpen: false,\n            activeTab: 0\n        }\n    },\n    computed: {},\n    watch: {\n        open(newVal) {\n            if (newVal) {\n                this.isOpen = true;\n            }\n        },\n        parentDomains(newVal) {\n            this.subdomainParent = newVal[0]\n        },\n        domains(newVal) {\n            this.selectedDomain = newVal[0]\n        }\n    },\n    methods: {\n        show() {\n            this.subdomainValue = ''\n            return new Promise((resolve) => {\n                this.resolve = resolve;\n                if (this.default) {\n                    this.value = this.default\n                } else {\n                    this.value = null\n                }\n                this.$refs.modal.show();\n            })\n        },\n        onCancel(e) {\n            this.resolve(false)\n        },\n        onSave(e) {\n            if (this.resolve) {\n\n                if (this.activeTab === 1) {\n                    e.preventDefault()\n                    this.$refs.waiter.wait(\n                        this.$refs.observer.validate()\n                            .then(isValid => {\n\n                                if (!isValid) {\n                                    return\n                                }\n                                return domains.validateSubdomain({subdomain: this.subdomainValue + '.' + this.subdomainParent.domain_name})\n                            })\n                            .then(data => {\n                                if (data.length) {\n                                    this.$refs.observer.setErrors({\n                                        subdomain: data\n                                    });\n                                } else {\n                                    let value = {\n                                        subdomainValue: this.subdomainValue,\n                                        subdomainParent: this.subdomainParent\n                                    }\n\n                                    this.isOpen = false;\n                                    this.resolve(value)\n                                }\n                            })\n                    )\n                } else {\n                    this.resolve(this.selectedDomain)\n                }\n\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\">\n.link-domain-modal {\n\n    .tab-content {\n        min-height: 200px;\n    }\n\n    &__subdomain {\n        display: flex;\n        align-items: flex-end;\n\n        .x-select {\n            flex: 1 0 auto;\n        }\n    }\n\n    &__subdomain-value {\n        width: 140px\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkDomainModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinkDomainModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LinkDomainModal.vue?vue&type=template&id=13959cda\"\nimport script from \"./LinkDomainModal.vue?vue&type=script&lang=js\"\nexport * from \"./LinkDomainModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./LinkDomainModal.vue?vue&type=style&index=0&id=13959cda&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"domain-list\">\n        <b-list-group>\n            <b-list-group-item v-for=\"domain in domains\" :key=\"domain.domain_id\"\n                               class=\"d-flex justify-content-between align-items-center\">\n                <domain-name :domain=\"domain\">\n                </domain-name>\n                <action-group class=\"domain-list__actions\">\n                    <action-button\n                        v-if=\"+domain.domain_isdefault!==1\"\n                        @action=\"onActionDefault(domain)\"\n                        title=\"Set domain default\"\n                        :icon=\"$icons.pin\">\n                    </action-button>\n                    <action-button\n                        v-if=\"+domain.is_readonly!==1\"\n                        @action=\"onActionUnlink(domain)\"\n                        title=\"Unlink domain\"\n                        :icon=\"$icons.unlink\">\n                    </action-button>\n                </action-group>\n            </b-list-group-item>\n        </b-list-group>\n        <action-group class=\"mt-1\">\n            <action-button @action=\"onActionLink()\"\n                           title=\"Link domain\"\n                           :icon=\"$icons.link\">\n            </action-button>\n        </action-group>\n        <link-domain-modal ref=\"modal\" :domains=\"availableDomains\" :parent-domains=\"allDomains\"></link-domain-modal>\n    </div>\n</template>\n\n<script>\nimport LinkDomainModal from '@/components/LinkDomainModal'\nimport DomainName from '@/components/DomainName'\nimport genID from '@modules/mixins/genID'\nimport domains from '@/services/api/domains'\n\nexport default {\n    name: 'EntityDomainList',\n    mixins: [genID],\n    components: {\n        LinkDomainModal,\n        DomainName\n    },\n    model: {\n        prop: 'domains',\n        event: 'change'\n    },\n    props: {\n        domains: {\n            type: Array,\n            required: true,\n        }\n    },\n    data() {\n        return {\n            //allDomains: [],\n        }\n    },\n    computed: {\n        allDomains() {\n            return this.$store.state.pages.domains\n        },\n        availableDomains() {\n            return this.allDomains.filter(domain => {\n                if (domain.domain_name.startsWith('webmail') /*|| domain.domain_isssl === 0*/) return false\n                return !this.domains.some(item => item.domain_id === domain.domain_id)\n            })\n        },\n    },\n    methods: {\n        async onActionLink() {\n            const value = await this.$refs.modal.show()\n            if (!value) return false\n\n            let domain = {...value}\n\n            if (domain.subdomainValue) {\n                domain = {\n                    domain_id: -this.genID(),\n                    domain_name: value.subdomainValue + '.' + value.subdomainParent.domain_name\n                }\n            }\n            domain.domain_isdefault = this.domains.length === 0 ? 1 : 0\n            this.$emit('change', [...this.domains, domain])\n        },\n\n        onActionUnlink(domain) {\n            const domains = this.domains.filter(d => d.domain_id !== domain.domain_id);\n            this.$emit('change', domains)\n        },\n\n        onActionDefault(domain) {\n            const domains = this.domains.map(item => {\n                item.domain_isdefault = item.domain_id === domain.domain_id ? 1 : 0\n                return item\n            })\n            this.$emit('change', domains)\n        },\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.domain-list {\n    &__actions {\n        display: none;\n    }\n\n    .list-group-item {\n        max-width: 500px;\n        padding: 0.0rem 0.45rem;\n        min-height: 37px;\n\n        &:hover {\n            .domain-list__actions {\n                display: flex;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityDomainList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityDomainList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EntityDomainList.vue?vue&type=template&id=b58300b4&scoped=true\"\nimport script from \"./EntityDomainList.vue?vue&type=script&lang=js\"\nexport * from \"./EntityDomainList.vue?vue&type=script&lang=js\"\nimport style0 from \"./EntityDomainList.vue?vue&type=style&index=0&id=b58300b4&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b58300b4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}