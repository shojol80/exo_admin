(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63ab44c4"],{"269b":function(e,t,n){"use strict";n("f751");var i=n("115e"),a=n("2ef0");t["a"]={model:{prop:"fq",event:"change"},props:{fq:Object},data:function(){return{value:this.empty()}},watch:{"fq.value":{immediate:!0,deep:!0,handler:function(e){var t;Object(a["isEqual"])(e,this.value)||(t=Object(i["a"])(e)?this.empty():Object(a["cloneDeep"])(this.normalizeValue(e)),t&&Array.isArray(t.payload)&&(t.payload={}),this.$set(this,"value",t))}},value:{deep:!0,handler:function(){this.$emit("change",{fq_id:this.fq.fq_id,value:Object(a["cloneDeep"])(this.value)})}}},methods:{empty:function(){return{}},normalizeValue:function(e){return Object.assign(this.empty(),e)}}}},"2ccd":function(e,t,n){"use strict";n("dc6d")},"5f8f":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("b-form-invalid-feedback",e._g(e._b({attrs:{id:"inputLiveFeedback_"+e.id}},"b-form-invalid-feedback",e.$attrs,!1),e.$listeners),[e._v("\n    "+e._s(e.errors[0])+"\n")])},a=[],r={name:"InvalidFeedback",props:{id:{},errors:{type:Array}}},o=r,s=n("2877"),l=Object(s["a"])(o,i,a,!1,null,"3d6a561c",null),c=l.exports;t["a"]={components:{InvalidFeedback:c},methods:{inputState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e[0]&&!this.serverErrors.length&&null},inputErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.concat(this.serverErrors)}},computed:{serverErrors:function(){return this.$store.getters["reactForm/fieldErrors"](this.fq.fq_name)},ruleObject:function(){return{required:!!parseInt(this.fq.fq_isrequired),email:"useremail"===this.fq.fqt_name}}}}},6843:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("ValidationProvider",{staticClass:"fe-control fe-mailable",attrs:{name:e.fq.label,rules:e.ruleObjectExt,tag:"div"},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.errors,a=n.valid;return[t("fe-base-control",{attrs:{state:e.inputState(i,a)}},[t("label",{staticClass:"fe-control__label",attrs:{for:e.id}},[e._v("\n            "+e._s(e.fq.label)+"\n            "),t("field-info-icon",{attrs:{fq:e.fq}})],1),t("x-form-group",{attrs:{title:"View"}},[t("div",{staticClass:"fe-mailable__row"},[t("select-view",{attrs:{id:e.id,name:e.fq.fq_name,placeholder:e.fq.placeholder,state:e.inputState(i,a)},model:{value:e.value.view,callback:function(t){e.$set(e.value,"view",t)},expression:"value.view"}}),t("action-edit-view",{staticClass:"ml-1",model:{value:e.value.view,callback:function(t){e.$set(e.value,"view",t)},expression:"value.view"}})],1)]),t("x-form-select",{attrs:{title:"From Email",placeholder:"Select email configuration",options:e.emailOptions,"id-key":"value","label-key":"label",loading:e.loadingEmailOptions},model:{value:e.value.fromEmail,callback:function(t){e.$set(e.value,"fromEmail",t)},expression:"value.fromEmail"}}),t("x-form-input",{attrs:{title:"From name",placeholder:"By default use from site settings"},model:{value:e.value.fromName,callback:function(t){e.$set(e.value,"fromName",t)},expression:"value.fromName"}}),t("x-form-input",{attrs:{title:"Subject"},model:{value:e.value.subject,callback:function(t){e.$set(e.value,"subject",t)},expression:"value.subject"}})],1),t("invalid-feedback",{attrs:{id:e.id,errors:e.inputErrors(i)}})]}}])})},a=[],r=(n("8e6e"),n("ac6a"),n("cadf"),n("456d"),n("96cf"),n("3b8d")),o=n("bd86"),s=n("8820"),l=n("269b"),c=n("5f8f"),u=n("950f"),f=n("9d7c"),d=n("c709"),m=n("be35");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={name:"feMailable",components:{ActionEditView:d["a"],FieldInfoIcon:s["a"],feBaseControl:f["a"]},mixins:[l["a"],c["a"],u["a"]],data:function(){return{emailOptions:[],loadingEmailOptions:!1}},computed:{react_id:function(){return this.$store.getters["reactForm/react_id"]},ruleObjectExt:function(){return v(v({},this.ruleObject),{},{required:!0})}},mounted:function(){this.loadEmailOptions()},methods:{empty:function(){return{fromEmail:null,fromName:null,subject:null}},loadEmailOptions:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingEmailOptions=!0,console.log("ðŸ“§ Loading email options..."),e.next=1,m["a"].getEmailOptions();case 1:t=e.sent,console.log("ðŸ“§ API Response:",t),this.emailOptions=t||[],console.log("ðŸ“§ Email options loaded:",this.emailOptions.length,"options"),!this.value.fromEmail&&this.emailOptions.length>0&&(this.value.fromEmail=this.emailOptions[0].value,console.log("ðŸ“§ Auto-selected first email:",this.emailOptions[0].value)),e.next=3;break;case 2:e.prev=2,n=e["catch"](0),console.error("ðŸ“§ Failed to load email options:",n),this.$awn.warning("Failed to load email configurations"),this.emailOptions=[];case 3:return e.prev=3,this.loadingEmailOptions=!1,e.finish(3);case 4:case"end":return e.stop()}}),e,this,[[0,2,3,4]])})));function t(){return e.apply(this,arguments)}return t}()}},h=b,_=(n("2ccd"),n("2877")),O=Object(_["a"])(h,i,a,!1,null,null,null);t["default"]=O.exports},"77a2":function(e,t,n){"use strict";n("e09c")},8820:function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return e.isDeveloper?t("info-icon",{staticClass:"field-info-icon"},[t("table",[t("tr",[t("th",[e._v("fqt_name")]),t("td",[e._v(e._s(e.fq.fqt_name))])]),t("tr",[t("th",[e._v("fq_id")]),t("td",[e._v(e._s(e.fq.fq_id))])]),t("tr",[t("th",[e._v("fq_name")]),t("td",[e._v(e._s(e.fq.fq_name))])]),t("tr",[t("th",[e._v("fq_info")]),t("td",[e._v(e._s(e.fq.fq_info))])])])]):e._e()},a=[],r=n("1475"),o={name:"FieldInfoIcon",mixins:[r["a"]],props:{fq:{type:Object}}},s=o,l=(n("77a2"),n("2877")),c=Object(l["a"])(s,i,a,!1,null,"1e02aefa",null);t["a"]=c.exports},"950f":function(e,t,n){"use strict";n("6b54");t["a"]={computed:{id:function(){return this.fq.fq_id.toString()}}}},"9d7c":function(e,t,n){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fe-base-control form-control",class:e.stateClass},[e._t("default",(function(){return[t("span",[e._v("Please set field components")])]}))],2)},a=[],r={name:"feBaseControl",props:{state:{default:null}},computed:{stateClass:function(){return!0===this.state?"is-valid":!1===this.state?"is-invalid":""}}},o=r,s=n("2877"),l=Object(s["a"])(o,i,a,!1,null,null,null);t["a"]=l.exports},dc6d:function(e,t,n){},e09c:function(e,t,n){}}]);
//# sourceMappingURL=chunk-63ab44c4.d81ef062.js.map