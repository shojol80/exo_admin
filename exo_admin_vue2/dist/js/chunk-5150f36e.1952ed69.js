(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5150f36e"],{"0475":function(e,t,n){"use strict";var o=function(){var e=this,t=e._self._c;return t("x-query-builder",{staticClass:"react-query-builder",attrs:{labels:e.labels,rules:e.rules,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},r=[],i=(n("8e6e"),n("cadf"),n("456d"),n("bd86")),s=(n("ac6a"),n("04ef")),a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"field-input"},[t("b-input",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},"b-input",e.$attrs,!1),e.$listeners)),t("info-icon",{directives:[{name:"show",rawName:"v-show",value:!!e.help,expression:"!!help"}]},[e._v(e._s(e.help))])],1)},l=[],u=(n("6762"),n("2fdb"),{name:"FieldInput",computed:{operator:function(){return this.$parent.query.operator},show:function(){return!["EMPTY","NOT EMPTY"].includes(this.operator)},help:function(){return["LIKE","NOT LIKE"].includes(this.operator)?'Use %  as wildcard. Example: "Product%"':["IN","NOT IN"].includes(this.operator)?'Use "," as delimiter. Example: "4423,44334,23423"':void 0}}}),c=u,f=(n("9e68"),n("2877")),m=Object(f["a"])(c,a,l,!1,null,"f9692498",null),d=m.exports;function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"ReactQueryBuilder",components:{XQueryBuilder:s["a"]},model:{prop:"value",event:"input"},props:{value:{type:Object,required:!0},forms:{type:Array,required:!0}},data:function(){return{labels:{matchType:"Match Type",matchTypes:[{id:"AND",label:"AND"},{id:"OR",label:"OR"}],addRule:"Add Rule",removeRule:"&times;",addGroup:"Add Group",removeGroup:"&times;",textInputPlaceholder:"value"}}},computed:{rules:function(){var e=this,t=[this.composeFieldRule({id:"react_id",label:"react_id"}),this.composeFieldRule({id:"react_edition_id",label:"react_edition_id"}),this.composeFieldRule({id:"react_form_permalink_id",label:"react_form_permalink_id"}),this.composeFieldRule({id:"form_name",label:"form_name"})];return this.forms.map((function(n){var o=e.$store.getters["forms/getForm"](n),r=[];return o.form_questions.forEach((function(n){t.find((function(e){return e.id===n.fq_name}))||t.push(e.composeFieldRule({id:n.fq_name,label:n.fq_name}))})),r})),t}},methods:{composeFieldRule:function(e){var t=["=","<",">","<=",">=","!=","LIKE","NOT LIKE","EMPTY","NOT EMPTY","IN","NOT IN"];return"permalink"===e.id&&(t=["=","<",">","<=",">=","!=","LIKE","NOT LIKE"]),h({type:"custom-component",component:d,operators:t,default:""},e)}}},b=g,v=(n("5bc6"),Object(f["a"])(b,o,r,!1,null,null,null));t["a"]=v.exports},"04ef":function(e,t,n){"use strict";var o=function(){var e=this,t=e._self._c;return t("vue-query-builder",e._g(e._b({staticClass:"x-query-builder",scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}}))],null,!0)},"vue-query-builder",e.$attrs,!1),e.$listeners),[e._l(e.$slots,(function(t,n){return e._t(n,null,{slot:n})}))],2)},r=[],i=(n("54d8"),n("9a97")),s=n.n(i),a={name:"XQueryBuilder",components:{VueQueryBuilder:s.a}},l=a,u=(n("cfc4"),n("2877")),c=Object(u["a"])(l,o,r,!1,null,null,null);t["a"]=c.exports},"085e":function(e,t,n){"use strict";n("e50f")},"4dc8":function(e,t,n){"use strict";var o=function(){var e=this,t=e._self._c;return t("dialog-aside",e._b({ref:"modal",attrs:{"hide-action-toolbar":!1,"hide-back-action":!0},on:{hide:e.onModalHide,hidden:e.onModalHidden},scopedSlots:e._u([{key:"actions",fn:function(){return[t("action-button",{attrs:{icon:e.$icons.confirm},on:{action:function(t){return t.preventDefault(),e.ok.apply(null,arguments)}}})]},proxy:!0}])},"dialog-aside",e.$dialogsProps,!1),[void 0!==e.localValue?[t("react-query-builder",{staticClass:"mt-3",attrs:{forms:e.forms},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})]:e._e()],2)},r=[],i=n("0475"),s=n("001c"),a={name:"SetupQBRulesAside",props:{value:{required:!0},forms:{type:Array,required:!0}},mixins:[s["a"]],components:{ReactQueryBuilder:i["a"]}},l=a,u=(n("daf9"),n("2877")),c=Object(u["a"])(l,o,r,!1,null,"20b384e4",null);t["a"]=c.exports},"5bc6":function(e,t,n){"use strict";n("c2ad")},8224:function(e,t,n){},"9e68":function(e,t,n){"use strict";n("f9ab")},c2ad:function(e,t,n){},cfc4:function(e,t,n){"use strict";n("8224")},daf9:function(e,t,n){"use strict";n("f611")},df45:function(e,t,n){"use strict";n("7f7f");var o=function(){var e=this,t=e._self._c;return t("waiter",{ref:"waiter"},[t("b-card",{staticClass:"mt-3",attrs:{"no-header":"","no-footer":""}},[t("x-form-group",{directives:[{name:"show",rawName:"v-show",value:e.allowUseOwnConfig&&e.haveCommonConfig,expression:"allowUseOwnConfig && haveCommonConfig"}],attrs:{"control-padding":!0,"db-field":"useOwnConfig",title:"This container has own settings"}},[t("b-form-checkbox",{attrs:{value:1,"unchecked-value":0,name:"check-button",size:"lg",switch:""},on:{change:e.setScope},model:{value:e.useOwnConfig,callback:function(t){e.useOwnConfig=t},expression:"useOwnConfig"}})],1),t("x-form-fieldset",{attrs:{title:"Appearance & Behavior"}},[t("x-form-input",{attrs:{title:"Name","db-field":"name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("x-form-select",{attrs:{title:"Positions",clearable:!1,options:e.positions,"id-key":"value","label-key":"value"},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}}),t("x-form-input",{attrs:{disabled:e.isLegacyContainer,title:"Max depth","db-field":"maxDepth"},model:{value:e.maxDepth,callback:function(t){e.maxDepth=t},expression:"maxDepth"}}),t("x-form-switch",{attrs:{"control-padding":!0,"db-field":"outputOnlyPublished",title:"Output only published reacts",value:1,"unchecked-value":0},model:{value:e.outputOnlyPublished,callback:function(t){e.outputOnlyPublished=t},expression:"outputOnlyPublished"}}),t("x-form-text-area",{attrs:{disabled:e.isLegacyContainer,title:"Extra params","db-field":"extraParams"},model:{value:e.extraParams,callback:function(t){e.extraParams=t},expression:"extraParams"}})],1),t("x-form-fieldset",{attrs:{title:"Forms in this group"}},[t("forms-table")],1)],1)],1)},r=[],i=function(){var e=this,t=e._self._c;return t("action-table",{ref:"table",staticClass:"container-forms-table",attrs:{name:"Forms",skin:"white","hover-row":!1,columns:e.columns,options:e.options,data:e.forms},on:{update:e.updateForm},scopedSlots:e._u([{key:"afterFilterWrapper",fn:function(){},proxy:!0},{key:"actions",fn:function(n){return[t("action-group",[t("action-button",{attrs:{title:"Add form",icon:e.$icons.add},on:{action:function(t){return e.add()}}}),t("setup-form-filter-action")],1)]}},{key:"col-action",fn:function(n){return[t("action-group",{on:{click:function(e){e.stopPropagation()}}},[t("action-button",{attrs:{icon:e.$icons.delete},on:{action:function(t){return e.remove(n.row)}}})],1)]}},{key:"form_name",fn:function(t){var n=t.row;t.update;return[e._v("\n    "+e._s(e.form(n.form_id).form_name)+"\n  ")]}},{key:"form_permalink_id",fn:function(n){var o=n.row;n.update;return[t("select-form-permalink",{attrs:{form_id:o.form_id,placeholder:"Select form permalink","show-default-form-permalink":!1,value:o.form_permalink_id},on:{input:function(t){return e.updateForm({column:"form_permalink_id",newVal:t,row:o})}}})]}},{key:"use_as_primary",fn:function(n){var o=n.row;n.update;return[t("x-switch",{attrs:{value:o.use_as_primary},on:{change:function(t){return e.updateForm({column:"use_as_primary",newVal:t,row:o})}}})]}}])})},s=[],a=n("09ae"),l=function(){var e=this,t=e._self._c;return t("action-button",{attrs:{disabled:e.filterDisabled,icon:e.$icons.filter},on:{action:e.filter}})},u=[],c=(n("96cf"),n("3b8d")),f=n("115e"),m=n("4dc8"),d=n("2ef0"),p=n.n(d),h={name:"SetupFormFilterAction",computed:{filterDisabled:function(){return Object(f["a"])(this.$store.getters["controller/settings/getForms"])},QBRules:{get:function(){return this.$store.getters["controller/settings/getQBRules"]},set:function(e){return this.$store.commit("controller/settings/setQBRules",e)}},forms:function(){var e=this.$store.getters["controller/settings/getForms"]||[];return e.map((function(e){return e.form_id}))}},methods:{filter:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=1,this.$dialogs.show(m["a"],{value:p.a.cloneDeep(this.QBRules),forms:this.forms});case 1:t=e.sent,"ok"===t.trigger&&(this.QBRules=t.value);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},g=h,b=n("2877"),v=Object(b["a"])(g,l,u,!1,null,null,null),_=v.exports,w={name:"FormsTable",components:{SetupFormFilterAction:_},props:{},data:function(){return{columns:["form_id","form_name","form_permalink_id","use_as_primary","col-action"],options:{usePagination:!1,filterable:!1,sortable:[],uniqueKey:"form_id",editableColumns:["form_permalinks"],headings:{form_id:"ID",form_name:"NAME",form_permalink_id:"FORM PERMALINK",use_as_primary:"USE AS PRIMARY"}}}},computed:{forms:function(){return this.$store.getters["controller/settings/getForms"]}},methods:{add:function(){var e=this;this.$dialogs.show(a["a"],{forms:!0,excludeForms:this.forms}).then((function(t){if("ok"===t.trigger&&t.value){var n=t.value;e.$store.commit("controller/settings/addForm",{form_id:n.form_id,form_permalink_id:null})}}))},updateForm:function(e){var t=e.column,n=e.newVal,o=e.row;this.$store.commit("controller/settings/updateForm",{column:t,newVal:n,row:o})},remove:function(e){this.$store.commit("controller/settings/removeForm",e)},form:function(e){return this.$store.getters["forms/getForm"](e)}}},y=w,O=(n("085e"),Object(b["a"])(y,i,s,!1,null,null,null)),x=O.exports,k=n("b991"),$={name:"Settings",components:{FormsTable:x},props:{allowUseOwnConfig:{type:Boolean,default:!1}},data:function(){return{backRoute:k["e"],positions:[{value:"Auto"},{value:"Top left"},{value:"Top Right"},{value:"Bottom left"},{value:"Bottom Right"}]}},computed:{isLegacyContainer:function(){return this.$store.getters["controller/settings/isLegacyContainer"]},haveCommonConfig:function(){return"react"===this.$store.getters["controller/getHolderType"]},extraParams:{get:function(){return this.$store.getters["controller/settings/config"].extraParams},set:function(e){this.$store.commit("controller/settings/setExtraParams",e)}},maxDepth:{get:function(){return this.$store.getters["controller/settings/config"].maxDepth},set:function(e){this.$store.commit("controller/settings/setMaxDepth",e)}},useOwnConfig:{get:function(){return this.$store.getters["controller/settings/config"].useOwnConfig},set:function(e){this.$store.commit("controller/settings/setUseOwnConfig",e)}},outputOnlyPublished:{get:function(){return this.$store.getters["controller/settings/config"].outputOnlyPublished},set:function(e){this.$store.commit("controller/settings/setOutputOnlyPublished",e)}},name:{get:function(){return this.$store.getters["controller/settings/config"].name},set:function(e){this.$store.commit("controller/settings/setName",e)}},position:{get:function(){return this.$store.getters["controller/settings/config"].buttonPosition},set:function(e){this.$store.commit("controller/settings/setButtonPosition",e)}}},methods:{setScope:function(e){this.$refs.waiter.wait(this.$store.dispatch("controller/settings/getContainerConfigByScope",{useOwnConfig:e}))}}},P=$,C=Object(b["a"])(P,o,r,!1,null,"8f2645b4",null);t["a"]=C.exports},e50f:function(e,t,n){},f611:function(e,t,n){},f9ab:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5150f36e.1952ed69.js.map