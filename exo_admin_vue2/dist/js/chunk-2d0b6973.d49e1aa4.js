(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6973"],{"1e8a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("unsplash-backgroud",{staticClass:"center-position"},[e("b-card",{directives:[{name:"show",rawName:"v-show",value:"LOGIN"===t.state,expression:"state==='LOGIN'"}],staticClass:"p-3 animated fadeIn auth-card",attrs:{"no-body":"","img-src":"/exo_admin/img/brand/logo.png","img-alt":"ExologCMS"}},[e("b-card-body",[e("waiter",{attrs:{show:t.isLoading}},[e("b-form",[e("b-input-group",{staticClass:"mb-3",attrs:{size:"lg"}},[e("b-input-group-prepend",[e("b-input-group-text",[e("icon",{staticClass:"fa-fw",attrs:{icon:t.$icons.user}})],1)],1),e("b-form-input",{ref:"emailEl",staticClass:"form-control",attrs:{type:"text",placeholder:"üìß Your Email Address",autocomplete:"username email",state:!t.error&&null},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.u_email,callback:function(e){t.u_email=e},expression:"u_email"}})],1),e("b-input-group",{staticClass:"mb-3",attrs:{size:"lg"}},[e("b-input-group-prepend",[e("b-input-group-text",[e("icon",{staticClass:"fa-fw",attrs:{icon:"fas fa-key"}})],1)],1),t.error?e("b-form-invalid-feedback",{staticClass:"order-last",staticStyle:{display:"block"},attrs:{id:"inputLiveFeedback"}},[t._v("\n                            "+t._s(t.error)+"\n                        ")]):t._e(),e("b-form-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"current-password",state:!t.error&&null},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.u_password,callback:function(e){t.u_password=e},expression:"u_password"}})],1),e("b-input-group",{staticClass:"mb-4",attrs:{size:"md"}},[e("b-form-checkbox",{model:{value:t.remember,callback:function(e){t.remember=e},expression:"remember"}},[t._v("Remember me")])],1),e("b-row",[e("b-col",{staticClass:"d-flex justify-content-between"},[e("b-button",{staticClass:"px-0",attrs:{variant:"link"},on:{click:function(e){t.state="FORGOT_PASSWORD"}}},[t._v("\n                                Forgot password?\n                            ")]),e("b-button",{staticClass:"btn-min",attrs:{variant:"success",size:"lg"},on:{click:t.login}},[t._v("üéØ Sign In (UPDATED)\n                            ")])],1)],1)],1)],1)],1)],1),e("b-card",{directives:[{name:"show",rawName:"v-show",value:"2FA"===t.state,expression:"state==='2FA'"}],staticClass:"p-3 auth-card",attrs:{"no-body":"","img-src":"/exo_admin/img/brand/logo.png","img-alt":"ExologCMS"}},[e("b-card-body",[e("waiter",{attrs:{show:t.isLoading}},[e("b-form",{on:{submit:function(t){t.preventDefault()}}},[e("div",{staticClass:"mb-4"},[e("input-two-factor-auth-code",{ref:"inputCode",staticClass:"auth-card__code",attrs:{error:t.error},on:{enter:t.login},model:{value:t.gaCode,callback:function(e){t.gaCode=e},expression:"gaCode"}}),e("b-button",{staticClass:"px-0",attrs:{variant:"link"},on:{click:t.lostCode}},[t._v("\n                            Can't enter code?\n                        ")])],1),e("b-row",[e("b-col",{staticClass:"d-flex justify-content-between"},[e("b-button",{staticClass:"px-0",attrs:{variant:"link"},on:{click:t.goBack}},[t._v("‚Üê Back\n                            ")]),e("b-button",{staticClass:"btn-min",attrs:{variant:"primary"},on:{click:t.login}},[t._v("Login\n                            ")])],1)],1)],1)],1)],1)],1),e("b-card",{directives:[{name:"show",rawName:"v-show",value:"FORGOT_PASSWORD"===t.state,expression:"state==='FORGOT_PASSWORD'"}],staticClass:"p-3 animated fadeIn auth-card",attrs:{"no-body":"","img-src":"/exo_admin/img/brand/logo.png","img-alt":"ExologCMS"}},[e("b-card-body",[e("waiter",{attrs:{show:t.isLoading}},[e("b-form",[e("p",{staticClass:"text-muted"},[t._v("Enter your email address and we will send you instructions on\n                        how to reset your password.")]),e("b-input-group",{staticClass:"mb-3"},[e("b-input-group-prepend",[e("b-input-group-text",[e("icon",{attrs:{icon:t.$icons.user}})],1)],1),e("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Username",autocomplete:"username email"},model:{value:t.u_email,callback:function(e){t.u_email=e},expression:"u_email"}})],1),e("b-row",[e("b-col",{staticClass:"d-flex justify-content-between"},[e("b-button",{staticClass:"px-0",attrs:{variant:"link"},on:{click:function(e){t.state="LOGIN"}}},[t._v("Login page\n                            ")]),e("b-button",{staticClass:"btn-min",attrs:{variant:"primary",disabled:""===t.u_email},on:{click:t.resetPassword}},[t._v("Reset password\n                            ")])],1)],1)],1)],1)],1)],1)],1)},n=[],r=(a("a481"),a("96cf"),a("3b8d")),o=function(){var t=this,e=t._self._c;return e("b-form-group",[e("p",{staticClass:"text-muted"},[t._v("\n        Enter code that you see in the app\n    ")]),e("b-input-group",{attrs:{label:"asda"}},[e("b-input-group-prepend",[e("b-input-group-text",[t._v("6 digit code")])],1),e("b-form-input",{ref:"codeEl",staticClass:"form-control",attrs:{type:"text",placeholder:"",state:!t.error&&null,value:t.gaCode},on:{input:function(e){return t.$emit("input",e)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")}}}),e("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedbackCode"}},[t._v("\n            "+t._s(t.error)+"\n        ")])],1)],1)},i=[],u={name:"InputTwoFactorAuthCode",model:{prop:"gaCode",event:"input"},props:{error:"",gaCode:""},data:function(){return{}},mounted:function(){},methods:{focus:function(){var t=this;t.$nextTick((function(){t.$refs.codeEl.focus()}))}}},c=u,l=a("2877"),d=Object(l["a"])(c,o,i,!1,null,"6bf415dd",null),p=d.exports,b=a("62e2"),m={name:"Login",components:{UnsplashBackgroud:b["a"],InputTwoFactorAuthCode:p},data:function(){return{state:"LOGIN",gaCode:"",u_email:Object({NODE_ENV:"production",VUE_APP_LFM_AXIOS_BASE_URL:"/api/filemanager/",VUE_APP_UNSPLASH_CLIENT_ID:"6c6a062383be3115ce0811d84b422abfe5c7168068b8565e949dd29e3e48d0b4",BASE_URL:"/exo_admin/"}).VUE_APP_LOGIN||"",u_password:Object({NODE_ENV:"production",VUE_APP_LFM_AXIOS_BASE_URL:"/api/filemanager/",VUE_APP_UNSPLASH_CLIENT_ID:"6c6a062383be3115ce0811d84b422abfe5c7168068b8565e949dd29e3e48d0b4",BASE_URL:"/exo_admin/"}).VUE_APP_PASSWORD||"",remember:!!Object({NODE_ENV:"production",VUE_APP_LFM_AXIOS_BASE_URL:"/api/filemanager/",VUE_APP_UNSPLASH_CLIENT_ID:"6c6a062383be3115ce0811d84b422abfe5c7168068b8565e949dd29e3e48d0b4",BASE_URL:"/exo_admin/"}).VUE_APP_PASSWORD}},computed:{error:function(){return this.$store.state.auth.error},isLoading:function(){return"loading"===this.$store.getters["auth/status"]}},mounted:function(){this.$route.params.redir&&this.$store.dispatch("auth/saveRouteBeforeAuth",this.$route.params.redir),this.$refs.emailEl.focus()},methods:{login:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.u_email,a=this.u_password,s=this.remember,n=void 0,"2FA"===this.state&&(n=this.gaCode),"2FA"!==this.state||n){t.next=1;break}return this.$store.commit("auth/error","code is empty"),t.abrupt("return");case 1:return t.next=2,this.$store.dispatch("auth/request",{u_email:e,u_password:a,gaCode:n,remember:s});case 2:if("need_2fa"!==this.$store.getters["auth/status"]){t.next=3;break}return this.state="2FA",this.$nextTick((function(){r.$refs.inputCode.focus()})),t.abrupt("return");case 3:if("success"!==this.$store.getters["auth/status"]){t.next=4;break}return exoEventBus.$emit("exolog-confirm-login"),t.abrupt("return",this.$router.replace(this.$store.state.auth.from_path));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetPassword:function(){var t=this,e=this.u_email;this.$store.dispatch("auth/SendPasswordLink",e).then((function(){t.state="LOGIN",t.$awn.success("The instruction has been sent to your email. Please check.")}))},lostCode:function(){this.$awn.info('Please contact with administrator. <a href="mailto:info@exolog.nl?subject=Dealer two step verification">info@exolog.nl</a>')},goBack:function(){this.state="LOGIN",this.gaCode="",this.$store.dispatch("auth/reset")}}},f=m,_=Object(l["a"])(f,s,n,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0b6973.d49e1aa4.js.map