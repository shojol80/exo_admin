{"version":3,"sources":["webpack:///./src/services/api/groups.js","webpack:///./src/views/forms/Formgroup.vue","webpack:///src/views/forms/Formgroup.vue","webpack:///./src/views/forms/Formgroup.vue?cbb7","webpack:///./src/views/forms/Formgroup.vue?3127"],"names":["deleteGroup","params","config","Api","post","apply","concat","Array","prototype","slice","call","arguments","getGroup","saveGroup","getGroupTree","removeRelation","addRelation","render","_vm","this","_c","_self","ref","scopedSlots","_u","key","fn","_ref","invalid","staticClass","attrs","_ref2","valid","errors","model","value","group","group_name","callback","$$v","$set","expression","$icons","save","on","reload","group_id","load","properties","_v","proxy","group_info","staticRenderFns","name","components","props","required","data","group_type","watch","newVal","oldVal","mounted","methods","new","_this","$nextTick","$refs","focus","_this2","waiter","wait","groups","then","_this3","observer","validate","isValid","$route","query","group_parent","$router","replace","R_FORMGROUP_EDIT","component"],"mappings":"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","file":"js/chunk-9df3eda0.65d5b1cf.js","sourcesContent":["import Api from \"@/services/api/Api\"\n\nexport default {\n\n    deleteGroup(params, config) {\n        return Api.post('/groups/deleteGroup', ...arguments)\n    },\n\n    getGroup(params, config) {\n        return Api.post('/groups/getGroup', ...arguments)\n    },\n\n    saveGroup(params, config) {\n        return Api.post('/groups/saveGroup', ...arguments)\n    },\n\n    getGroupTree(params, config) {\n        return Api.post('/groups/getGroupTree', ...arguments)\n    },\n    removeRelation(params, config) {\n        return Api.post('/groups/removeRelation', ...arguments)\n    },\n\n    addRelation(params, config) {\n        return Api.post('/groups/addRelation', ...arguments)\n    },\n\n\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('waiter',{ref:\"waiter\"},[_c('ValidationObserver',{ref:\"observer\",scopedSlots:_vm._u([{key:\"default\",fn:function({ invalid }){return [_c('action-toolbar',[_c('action-group',{staticClass:\"mr-2\"},[_c('ValidationProvider',{attrs:{\"rules\":\"required\",\"name\":\"name\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return _c('action-input',{ref:\"name\",attrs:{\"valid\":valid,\"errors\":errors},model:{value:(_vm.group.group_name),callback:function ($$v) {_vm.$set(_vm.group, \"group_name\", $$v)},expression:\"group.group_name\"}})}}],null,true)}),_c('action-group-separator'),_c('action-back'),_c('action-button',{attrs:{\"title\":\"Save\",\"icon\":_vm.$icons.save,\"shortkey\":\"['ctrl', 's']\"},on:{\"action\":_vm.save}}),_c('action-button',{attrs:{\"title\":\"Reload\",\"icon\":_vm.$icons.reload,\"disabled\":_vm.group_id==='new'},on:{\"action\":_vm.load}})],1)],1),_c('b-tabs',{staticClass:\"x-tabs\"},[_c('b-tab',{attrs:{\"active\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('icon',{attrs:{\"icon\":_vm.$icons.properties}}),_vm._v(\"\\n                    Properties\\n                \")]},proxy:true}],null,true)},[_c('x-form-input',{attrs:{\"title\":\"Formgroup ID\",\"db-field\":\"group_id\",\"readonly\":\"\"},model:{value:(_vm.group.group_id),callback:function ($$v) {_vm.$set(_vm.group, \"group_id\", $$v)},expression:\"group.group_id\"}}),_c('x-form-text-area',{attrs:{\"title\":\"Description\",\"db-field\":\"group_info\"},model:{value:(_vm.group.group_info),callback:function ($$v) {_vm.$set(_vm.group, \"group_info\", $$v)},expression:\"group.group_info\"}})],1)],1)]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <waiter ref=\"waiter\">\n        <ValidationObserver ref=\"observer\" v-slot=\"{ invalid }\">\n            <action-toolbar>\n                <action-group class=\"mr-2\">\n                    <ValidationProvider rules=\"required\" name=\"name\" slim>\n                        <action-input\n                            ref=\"name\"\n                            slot-scope=\"{ valid, errors }\"\n                            :valid=\"valid\"\n                            :errors=\"errors\"\n                            v-model=\"group.group_name\"></action-input>\n                    </ValidationProvider>\n                    <action-group-separator></action-group-separator>\n                    <action-back></action-back>\n                    <action-button title=\"Save\" :icon=\"$icons.save\" @action=\"save\"\n                                   shortkey=\"['ctrl', 's']\">\n                    </action-button>\n                    <action-button title=\"Reload\"\n                                   :icon=\"$icons.reload\"\n                                   @action=\"load\"\n                                   :disabled=\"group_id==='new'\">\n                    </action-button>\n                </action-group>\n            </action-toolbar>\n            <b-tabs class=\"x-tabs\">\n                <b-tab active>\n                    <template #title>\n                        <icon :icon=\"$icons.properties\"></icon>\n                        Properties\n                    </template>\n\n                    <x-form-input\n                        title=\"Formgroup ID\"\n                        v-model=\"group.group_id\"\n                        db-field=\"group_id\"\n                        readonly>\n                    </x-form-input>\n\n                    <!--<ValidationProvider rules=\"required\" name=\"name\">\n                        <x-form-input\n                            slot-scope=\"{ valid, errors }\"\n                            title=\"Name\"\n                            v-model=\"group.group_name\"\n                            db-field=\"group_name\"\n                            :valid=\"valid\"\n                            :errors=\"errors\">\n                        </x-form-input>\n                    </ValidationProvider>-->\n\n                    <x-form-text-area\n                        title=\"Description\"\n                        v-model=\"group.group_info\"\n                        db-field=\"group_info\">\n                    </x-form-text-area>\n                </b-tab>\n            </b-tabs>\n        </ValidationObserver>\n    </waiter>\n</template>\n\n<script>\nimport {R_FORMGROUP_EDIT} from \"@/router/routs\"\nimport groups from '@/services/api/groups'\n\nexport default {\n    name: 'Formgroup',\n    components: {},\n    props: {\n        group_id: {\n            required: true\n        },\n    },\n    data() {\n        return {\n            group_type: 'form',\n            group: {},\n        }\n    },\n    watch: {\n        group_id(newVal, oldVal) {\n            if (newVal !== oldVal) this.load()\n        }\n    },\n    mounted() {\n        this.load()\n    },\n    methods: {\n        new() {\n            this.group = {\n                group_name: 'New form group'\n            }\n            this.$nextTick(() => {\n                    this.$refs.name.focus()\n                }\n            )\n        },\n        load() {\n            if (this.group_id === 'new') {\n                this.new()\n                return\n            }\n            this.$refs.waiter.wait(groups.getGroup({\n                    group_id: this.group_id,\n                    group_type: this.group_type\n                })\n                    .then(data => this.group = data)\n            )\n        },\n\n        save() {\n            this.$refs.observer.validate().then(isValid => {\n                    if (!isValid) return\n\n                    if (this.$route.query.group_parent && +this.$route.query.group_parent !== 0) {\n                        this.group.group_parent = this.$route.query.group_parent\n                    }\n                    this.group.group_type = this.group_type\n\n                    this.$refs.waiter.wait(\n                        groups.saveGroup(this.group)\n                            .then(data => this.group = data)\n                            .then(() => {\n                                this.$router.replace({\n                                    name: R_FORMGROUP_EDIT,\n                                    params: {\n                                        group_id: this.group.group_id\n                                    }\n                                })\n                            })\n                    )\n                }\n            )\n        },\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Formgroup.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Formgroup.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Formgroup.vue?vue&type=template&id=6805e70d&scoped=true\"\nimport script from \"./Formgroup.vue?vue&type=script&lang=js\"\nexport * from \"./Formgroup.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6805e70d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}