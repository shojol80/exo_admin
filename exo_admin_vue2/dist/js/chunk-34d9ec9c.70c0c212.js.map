{"version":3,"sources":["webpack:///./src/views/users/parties/UserMailboxAside.vue?19ce","webpack:///./src/views/users/parties/ForwardTo.vue?3619","webpack:///./src/components/statefull/TwoStepAuth.vue","webpack:///src/components/statefull/TwoStepAuth.vue","webpack:///./src/components/statefull/TwoStepAuth.vue?3b8d","webpack:///./src/components/statefull/TwoStepAuth.vue?3664","webpack:///./src/components/XMultiselect.vue?64b8","webpack:///./src/components/XMultiselect.vue","webpack:///src/components/XMultiselect.vue","webpack:///./src/components/XMultiselect.vue?edf8","webpack:///./src/components/XMultiselect.vue?6035","webpack:///./src/components/statefull/TwoStepAuth.vue?2259","webpack:///./src/views/users/User.vue?aeeb","webpack:///./src/views/users/User.vue","webpack:///./src/views/users/parties/ActionDownloadVcf.vue","webpack:///src/views/users/parties/ActionDownloadVcf.vue","webpack:///./src/views/users/parties/ActionDownloadVcf.vue?cd0d","webpack:///./src/views/users/parties/ActionDownloadVcf.vue?4787","webpack:///./src/views/users/parties/UserMailboxAside.vue","webpack:///./src/views/users/parties/ForwardTo.vue","webpack:///src/views/users/parties/ForwardTo.vue","webpack:///./src/views/users/parties/ForwardTo.vue?701e","webpack:///./src/views/users/parties/ForwardTo.vue?c376","webpack:///src/views/users/parties/UserMailboxAside.vue","webpack:///./src/views/users/parties/UserMailboxAside.vue?f03c","webpack:///./src/views/users/parties/UserMailboxAside.vue?467c","webpack:///./src/components/dialogs/TwoFactorsSetupDialog.vue","webpack:///src/components/dialogs/TwoFactorsSetupDialog.vue","webpack:///./src/components/dialogs/TwoFactorsSetupDialog.vue?b15a","webpack:///./src/components/dialogs/TwoFactorsSetupDialog.vue?cf5b","webpack:///src/views/users/User.vue","webpack:///./src/views/users/User.vue?2096","webpack:///./src/views/users/User.vue?cd69"],"names":["render","_vm","this","_c","_self","staticClass","attrs","directives","name","rawName","value","hideHeader","expression","_v","step","showCode","_s","secretCode","on","$event","preventDefault","staticStyle","barcode","width","color","dark","_e","ref","gaCodeState","verifyError","type","indexOf","_k","keyCode","key","verify","apply","arguments","model","ga_code","callback","$$v","onClose","staticRenderFns","components","VueQrcode","props","u_id","default","undefined","data","watch","newVal","oldVal","_this","$nextTick","$refs","input","focus","computed","length","error","$store","state","auth","methods","_this2","step2waiter","wait","enable2FA","then","catch","$emit","mounted","_this3","create2FA","result","code","component","_g","_b","scopedSlots","_u","_l","$scopedSlots","_","fn","slotData","_t","$attrs","$listeners","$slots","Multiselect","_ref","invalid","_ref2","valid","errors","user","u_email","$set","$icons","save","reload","load","allowEmailSetting","mailbox","show","react","onReactions","properties","proxy","_ref3","u_alt_email","_ref4","u_password","domProps","is_2fa","onProceed2FA","_ref5","langs","u_lang","usergroups","u_did","u_newsletter_confirmstring","u_newsletter_count_bounced","variables","vars","vcf","downdload","src","requared","cache","concat","is_popbox","onChangeMailbox","password","isNewMailbox","external_link","webmailUrl","aliases","mailboxdest","addTag","onInput","XMultiselect","Array","required","userEmail","String","newTag","toLowerCase","$awn","warning","existingEmail","find","item","tag","push","selectedValues","filteredValues","filter","isUserEmail","ForwardTo","AsidePanel","emailParts","split","domain","_show","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","modal","stop","_onChangeMailbox","_callee2","response","_context2","abrupt","$dialogs","confirmDelete","okTitle","title","message","sent","trigger","console","alert","_x","_load","_callee3","_context3","log","waiter","users","getUserMailbox","isArray","dest","shouldKeep","_save","_callee4","showNotification","isValid","_t2","_args4","_context4","observer","validate","setErrors","emailPassProvider","mUsergroupProvider","saveUserMailbox","success","includes","onModalHide","onModalHidden","$dialogsProps","onDone","mixins","withBModal","TwoStepAuth","ok","VarsEditor","UserMailboxAside","ActionDownloadVcf","ug_id","emaildata","originStatePopbox","label","id","getters","dispatch","$route","params","new","group","getUser","propertiesTab","activate","saveUser","$router","replace","R_USER_EDIT","query","_onProceed2FA","_callee5","event","_context5","confirm","disable2FA","TwoFactorsSetupDialog","R_REACTS_TABLE","backRoute","react_user_email"],"mappings":"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","file":"js/chunk-34d9ec9c.70c0c212.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMailboxAside.vue?vue&type=style&index=0&id=2bc7d85c&prod&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForwardTo.vue?vue&type=style&index=0&id=4deab4ad&prod&scoped=true&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-card-group',{staticClass:\"two-step-auth\"},[_c('b-card',{staticClass:\"animated fadeIn\",attrs:{\"no-body\":\"\",\"footer-bg-variant\":\"success\"}},[_c('b-card-header',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hideHeader),expression:\"!hideHeader\"}]},[_c('h2',{staticClass:\"text-primary mb-0\"},[_vm._v(\"Set up Authenticator\")])]),_c('b-card-body',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===1),expression:\"step===1\"}]},[(!_vm.showCode)?_c('div',[_c('ol',{staticClass:\"text-dark\"},[_c('li',[_vm._v(\"\\n                        Get the Authenticator App from the Play Store.\\n                        \"),_c('div',{staticClass:\"d-flex flex-row align-items-center\"},[_c('div',{staticClass:\"exo-2FA-steps__link-android\"},[_c('a',{attrs:{\"href\":\"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1\"}},[_c('img',{staticStyle:{\"display\":\"inline-block\",\"width\":\"150px\"},attrs:{\"alt\":\"Get it on Google Play\",\"src\":\"https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png\"}})])]),_c('a',{staticStyle:{\"display\":\"inline-block\",\"overflow\":\"hidden\",\"background\":\"url(https://linkmaker.itunes.apple.com/assets/shared/badges/en-us/appstore-lrg.svg) no-repeat\",\"width\":\"135px\",\"height\":\"40px\",\"background-size\":\"contain\"},attrs:{\"href\":\"https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8\"}})])]),_c('li',[_vm._v(\" In the App select Set up account.\\n                    \")]),_c('li',[_vm._v(\" Choose Scan a barcode.\\n                    \")])]),_c('div',{staticClass:\"text-center mb-4 mt-4\"},[(_vm.barcode)?_c('vue-qrcode',{attrs:{\"value\":_vm.barcode,\"options\":{ width: 200 , color:{dark:'#00919c'}}}}):_vm._e()],1),_c('div',{staticClass:\"text-center\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.showCode=true}}},[_vm._v(\"Can't scan it? or want backup code?\")])])]):_c('div',[_c('ol',{staticClass:\"text-dark\"},[_c('li',[_vm._v(\"Tap Menu, then Set up account.\")]),_c('li',[_vm._v(\"Tap Enter provided key.\")]),_c('li',[_vm._v(\"Enter your email address and this key:\\n                        \"),_c('b-alert',{staticClass:\"mt-3\",attrs:{\"show\":\"\",\"variant\":\"dark\"}},[_vm._v(_vm._s(_vm.secretCode))])],1),_c('li',[_vm._v(\"Make sure Time based is turned on, and tap Add to finish.\")])]),_c('div',{staticClass:\"text-center\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.showCode=false}}},[_vm._v(\"Show QR code\")])])])]),_c('b-card-body',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===2),expression:\"step===2\"}]},[_c('waiter',{ref:\"step2waiter\"},[_c('div',[_c('b-input-group',{staticClass:\"mb-3\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_vm._v(\"6-digit code\")])],1),_c('b-form-input',{ref:\"input\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter code that you see in the app\",\"state\":(_vm.gaCodeState && !_vm.verifyError)?null:false},on:{\"input\":function($event){_vm.verifyError=''},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.verify.apply(null, arguments)}},model:{value:(_vm.ga_code),callback:function ($$v) {_vm.ga_code=$$v},expression:\"ga_code\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"inputLiveFeedback\"}},[_vm._v(\"\\n                            \"+_vm._s(_vm.verifyError)+\"\\n                        \")])],1)],1)])],1),_c('b-card-body',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===3),expression:\"step===3\"}]},[_c('b-alert',{attrs:{\"variant\":\"success\",\"show\":\"\"}},[_c('h4',{staticClass:\"text-center mb-0\"},[_vm._v(\"2-Step Verification turned on\")])])],1),_c('b-card-footer',{staticClass:\"text-right\",attrs:{\"footer-bg-variant\":\"light\"}},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step>1 && _vm.step<3),expression:\"step>1 && step<3\"}],staticClass:\"px-4 mx-1 btn-min\",attrs:{\"variant\":\"light\"},on:{\"click\":function($event){_vm.step--}}},[_vm._v(\"BACK\\n            \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step<2),expression:\"step<2\"}],staticClass:\"px-4 mx-1 btn-min\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){_vm.step++}}},[_vm._v(\"NEXT\\n            \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===2),expression:\"step===2\"}],staticClass:\"px-4 mx-1 btn-min\",attrs:{\"variant\":\"primary\",\"disabled\":!_vm.gaCodeState},on:{\"click\":_vm.verify}},[_vm._v(\"VERIFY\\n            \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===3),expression:\"step===3\"}],staticClass:\"px-4 mx-1 btn-min\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.onClose}},[_vm._v(\"DONE\\n            \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-card-group class=\"two-step-auth\">\n        <b-card no-body\n                footer-bg-variant=\"success\"\n                class=\"animated fadeIn\">\n\n            <b-card-header v-show=\"!hideHeader\">\n                <h2 class=\"text-primary mb-0\">Set up Authenticator</h2>\n            </b-card-header>\n\n            <b-card-body v-show=\"step===1\">\n                <div v-if=\"!showCode\">\n                    <ol class=\"text-dark\">\n                        <li>\n                            Get the Authenticator App from the Play Store.\n                            <div class=\"d-flex flex-row align-items-center\">\n                                <div class=\"exo-2FA-steps__link-android\">\n                                    <a href='https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'\n                                    >\n                                        <img\n                                            style=\"display:inline-block;width:150px;\"\n                                            alt='Get it on Google Play'\n                                            src='https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png'/></a>\n\n                                </div>\n                                <a href=\"https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8\"\n                                   style=\"display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/assets/shared/badges/en-us/appstore-lrg.svg) no-repeat;width:135px;height:40px;background-size:contain;\"></a>\n                            </div>\n\n                        </li>\n                        <li> In the App select Set up account.\n                        </li>\n                        <li> Choose Scan a barcode.\n                        </li>\n                    </ol>\n                    <div class=\"text-center mb-4 mt-4\">\n                        <vue-qrcode v-if=\"barcode\" :value=\"barcode\" :options=\"{ width: 200 , color:{dark:'#00919c'}}\"></vue-qrcode>\n                    </div>\n                    <div class=\"text-center\">\n                        <a href=\"#\" @click.prevent=\"showCode=true\">Can't scan it? or want backup code?</a>\n                    </div>\n                </div>\n\n                <div v-else>\n                    <ol class=\"text-dark\">\n                        <li>Tap Menu, then Set up account.</li>\n                        <li>Tap Enter provided key.</li>\n                        <li>Enter your email address and this key:\n                            <b-alert show variant=\"dark\" class=\"mt-3\">{{secretCode}}</b-alert>\n                        </li>\n                        <li>Make sure Time based is turned on, and tap Add to finish.</li>\n                    </ol>\n                    <div class=\"text-center\">\n                        <a href=\"#\" @click.prevent=\"showCode=false\">Show QR code</a>\n                    </div>\n                </div>\n\n            </b-card-body>\n\n            <b-card-body v-show=\"step===2\">\n                <waiter ref=\"step2waiter\">\n                    <div>\n                        <b-input-group class=\"mb-3\">\n                            <b-input-group-prepend>\n                                <b-input-group-text>6-digit code</b-input-group-text>\n                            </b-input-group-prepend>\n                            <b-form-input type=\"text\" class=\"form-control\"\n                                          placeholder=\"Enter code that you see in the app\"\n                                          ref=\"input\"\n                                          :state=\"(gaCodeState && !verifyError)?null:false\"\n                                          @input=\"verifyError=''\"\n                                          @keyup.enter=\"verify\"\n                                          v-model=\"ga_code\"></b-form-input>\n                            <b-form-invalid-feedback id=\"inputLiveFeedback\">\n                                {{verifyError}}\n                            </b-form-invalid-feedback>\n                        </b-input-group>\n                    </div>\n                </waiter>\n\n\n            </b-card-body>\n\n            <b-card-body v-show=\"step===3\">\n                <b-alert variant=\"success\" show>\n                    <h4 class=\"text-center mb-0\">2-Step Verification turned on</h4>\n                </b-alert>\n            </b-card-body>\n\n            <b-card-footer\n                footer-bg-variant=\"light\"\n                class=\"text-right\">\n                <b-button variant=\"light\" v-show=\"step>1 && step<3\"\n                          class=\"px-4 mx-1 btn-min\"\n                          @click=\"step--\">BACK\n                </b-button>\n                <b-button variant=\"primary\" v-show=\"step<2\"\n                          class=\"px-4 mx-1 btn-min\"\n                          @click=\"step++\">NEXT\n                </b-button>\n                <b-button variant=\"primary\" v-show=\"step===2\"\n                          class=\"px-4 mx-1 btn-min\"\n                          @click=\"verify\"\n                          :disabled=!gaCodeState>VERIFY\n                </b-button>\n                <b-button variant=\"primary\" v-show=\"step===3\"\n                          class=\"px-4 mx-1 btn-min\"\n                          @click=\"onClose\">DONE\n                </b-button>\n            </b-card-footer>\n        </b-card>\n    </b-card-group>\n</template>\n\n<script>\nimport auth from '@/services/api/auth'\nimport VueQrcode from '@chenfengyuan/vue-qrcode';\n\nexport default {\n    name: \"TwoStepAuth\",\n    components: {VueQrcode},\n    props: {\n        u_id: {\n            default: undefined\n        },\n        hideHeader: {\n            default: false\n        }\n    },\n    data() {\n        return {\n            step: 1,\n            barcode: '',\n            secretCode: '',\n            showCode: false,\n            ga_code: '',\n            verifyError: ''\n        }\n    },\n    watch: {\n        step(newVal, oldVal) {\n            if (newVal === 2) {\n                this.ga_code = ''\n                this.$nextTick(() => {\n                    this.$refs.input.focus()\n                })\n            }\n        }\n    },\n    computed: {\n        gaCodeState() {\n            return this.ga_code.length === 6 ? true : this.ga_code.length === 0 ? null : false\n        },\n        error() {\n            return this.$store.state.auth.error\n        }\n    },\n    methods: {\n        verify() {\n            if (!this.gaCodeState) return\n            this.verifyError = ''\n            this.$refs.step2waiter.wait(\n                auth.enable2FA({\n                    u_id: this.u_id,\n                    ga_code: this.ga_code\n                }).then(() => {\n                    this.step++\n                }).catch(error => {\n                    if (error.data && error.data.error) {\n                        this.verifyError = error.data.error\n                    } else {\n                        throw error;\n                    }\n                })\n            )\n\n        },\n        onClose() {\n            this.$emit('done')\n        }\n    },\n    mounted() {\n        auth.create2FA({\n            u_id: this.u_id\n        }).then(result => {\n            this.barcode = result.barcode\n            this.secretCode = result.code\n        })\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.two-step-auth {\n    .card-body {\n        min-height: 400px;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoStepAuth.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoStepAuth.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TwoStepAuth.vue?vue&type=template&id=0d40bacc&scoped=true\"\nimport script from \"./TwoStepAuth.vue?vue&type=script&lang=js\"\nexport * from \"./TwoStepAuth.vue?vue&type=script&lang=js\"\nimport style0 from \"./TwoStepAuth.vue?vue&type=style&index=0&id=0d40bacc&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d40bacc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XMultiselect.vue?vue&type=style&index=0&id=9d1d7640&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('multiselect',_vm._g(_vm._b({staticClass:\"x-multiselect\",scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(_,name){return {key:name,fn:function(slotData){return [_vm._t(name,null,null,slotData)]}}})],null,true)},'multiselect',_vm.$attrs,false),_vm.$listeners),[_vm._l((_vm.$slots),function(_,name){return _vm._t(name,null,{\"slot\":name})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <multiselect\n        v-bind=\"$attrs\"\n        v-on=\"$listeners\"\n        class=\"x-multiselect\">\n        <slot v-for=\"(_, name) in $slots\" :name=\"name\" :slot=\"name\"/>\n        <template v-for=\"(_, name) in $scopedSlots\" :slot=\"name\" slot-scope=\"slotData\">\n            <slot :name=\"name\" v-bind=\"slotData\"/>\n        </template>\n    </multiselect>\n</template>\n<script>\nimport Multiselect from 'vue-multiselect'\nimport 'vue-multiselect/dist/vue-multiselect.min.css'\n\nexport default {\n    components: {\n        Multiselect,\n    },\n    methods: {}\n}\n</script>\n\n\n<style lang=\"scss\">\n@import \"src/assets/scss/vue-component\";\n\n.x-multiselect {\n    min-height: calc(2.0625rem + 2px);\n    font-size: .875rem;\n    font-weight: 400;\n    line-height: 1;\n    color: #5c6873;\n    background-color: #fff;\n    //background-clip: padding-box;\n    //border-radius: .25rem;\n\n    .multiselect__tags {\n        padding: 5px 40px 0 12px;\n        min-height: calc(2.0625rem + 2px);\n        border: 1px solid $input-border-color;\n        border-radius: $border-radius;\n    }\n\n    .multiselect__tag {\n        font-size: 12px;\n        padding: 6px 23px 6px 6px;\n        background: $primary;\n        border-radius: $border-radius-sm;\n        margin-right: 5px;\n        margin-bottom: 0;\n    }\n\n    .multiselect__tag-icon {\n        line-height: 24px;\n\n        &:after {\n            color: $white;\n        }\n    }\n\n    .multiselect__tag-icon:focus, .multiselect__tag-icon:hover {\n        background: $primary;\n\n        &:after {\n            color: #c8ced3;\n        }\n    }\n\n    .multiselect__placeholder {\n        color: $input-placeholder-color;\n        margin-bottom: 0;\n        padding-top: 6px;\n    }\n\n    .multiselect__select {\n        position: absolute;\n        width: auto;\n        height: 33px;\n        right: 1px;\n        top: 1px;\n        //padding: 4px 8px;\n        padding: 1px 5px;\n        &:before {\n            border-color: #ccc transparent transparent;\n        }\n    }\n\n    .multiselect__input, .multiselect__single {\n        min-height: 26px;\n        line-height: 26px;\n        border: none;\n        background: #fff;\n        padding: 0 0 0 0;\n        width: 100%;\n        transition: border .1s ease;\n        margin-bottom: 0;\n        vertical-align: top;\n        font-size: .875rem;\n    }\n\n    .multiselect__content-wrapper {\n        border: 1px solid $input-border-color;\n        border-top: none;\n    }\n\n    .multiselect__option {\n        display: block;\n        padding: 9px 14px;\n        min-height: 33px;\n        line-height: 15px;\n\n        &:after {\n            line-height: 33px;\n\n        }\n    }\n    .multiselect__option--highlight,\n    .multiselect__option--selected {\n        background: #f5f5f5;//theme-color-level('primary', $alert-bg-level);\n        color: $input-color;\n        &:after {\n            background: #f5f5f5;//theme-color-level('primary', $alert-bg-level);\n            color: $input-color;\n\n        }\n    }\n\n    .multiselect__option--selected.multiselect__option--highlight {\n        background: theme-color-level('danger', $alert-bg-level);\n        color: $input-color;\n\n        &:after {\n            background: theme-color-level('danger', $alert-bg-level);\n            color: $input-color;\n\n        }\n    }\n\n}\n</style>\n<!--<style scoped lang=\"scss\">\n\nfieldset[disabled] .multiselect {\n    pointer-events: none;\n}\n\n.multiselect__spinner {\n    position: absolute;\n    right: 1px;\n    top: 1px;\n    width: 48px;\n    height: 35px;\n    background: #fff;\n    display: block;\n}\n\n.multiselect__spinner:before,\n.multiselect__spinner:after {\n    position: absolute;\n    content: \"\";\n    top: 50%;\n    left: 50%;\n    margin: -8px 0 0 -8px;\n    width: 16px;\n    height: 16px;\n    border-radius: 100%;\n    border-color: #41b883 transparent transparent;\n    border-style: solid;\n    border-width: 2px;\n    box-shadow: 0 0 0 1px transparent;\n}\n\n.multiselect__spinner:before {\n    animation: spinning 2.4s cubic-bezier(0.41, 0.26, 0.2, 0.62);\n    animation-iteration-count: infinite;\n}\n\n.multiselect__spinner:after {\n    animation: spinning 2.4s cubic-bezier(0.51, 0.09, 0.21, 0.8);\n    animation-iteration-count: infinite;\n}\n\n.multiselect__loading-enter-active,\n.multiselect__loading-leave-active {\n    transition: opacity 0.4s ease-in-out;\n    opacity: 1;\n}\n\n.multiselect__loading-enter,\n.multiselect__loading-leave-active {\n    opacity: 0;\n}\n\n.multiselect,\n.multiselect__input,\n.multiselect__single {\n    font-family: inherit;\n    font-size: 16px;\n    touch-action: manipulation;\n}\n\n.multiselect {\n    box-sizing: content-box;\n    display: block;\n    position: relative;\n    width: 100%;\n    min-height: 40px;\n    text-align: left;\n    color: #35495e;\n}\n\n.multiselect * {\n    box-sizing: border-box;\n}\n\n.multiselect:focus {\n    outline: none;\n}\n\n.multiselect&#45;&#45;disabled {\n    background: #ededed;\n    pointer-events: none;\n    opacity: 0.6;\n}\n\n.multiselect&#45;&#45;active {\n    z-index: 50;\n}\n\n.multiselect&#45;&#45;active:not(.multiselect&#45;&#45;above) .multiselect__current,\n.multiselect&#45;&#45;active:not(.multiselect&#45;&#45;above) .multiselect__input,\n.multiselect&#45;&#45;active:not(.multiselect&#45;&#45;above) .multiselect__tags {\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.multiselect&#45;&#45;active .multiselect__select {\n    transform: rotateZ(180deg);\n}\n\n.multiselect&#45;&#45;above.multiselect&#45;&#45;active .multiselect__current,\n.multiselect&#45;&#45;above.multiselect&#45;&#45;active .multiselect__input,\n.multiselect&#45;&#45;above.multiselect&#45;&#45;active .multiselect__tags {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n}\n\n.multiselect__input,\n.multiselect__single {\n    position: relative;\n    display: inline-block;\n    min-height: 20px;\n    line-height: 20px;\n    border: none;\n    border-radius: 5px;\n    background: #fff;\n    padding: 0 0 0 5px;\n    width: calc(100%);\n    transition: border 0.1s ease;\n    box-sizing: border-box;\n    margin-bottom: 8px;\n    vertical-align: top;\n}\n\n.multiselect__input::placeholder {\n    color: #35495e;\n}\n\n.multiselect__tag ~ .multiselect__input,\n.multiselect__tag ~ .multiselect__single {\n    width: auto;\n}\n\n.multiselect__input:hover,\n.multiselect__single:hover {\n    border-color: #cfcfcf;\n}\n\n.multiselect__input:focus,\n.multiselect__single:focus {\n    border-color: #a8a8a8;\n    outline: none;\n}\n\n.multiselect__single {\n    padding-left: 5px;\n    margin-bottom: 8px;\n}\n\n.multiselect__tags-wrap {\n    display: inline;\n}\n\n.multiselect__tags {\n    min-height: 40px;\n    display: block;\n    padding: 8px 40px 0 8px;\n    border-radius: 5px;\n    border: 1px solid #e8e8e8;\n    background: #fff;\n    font-size: 14px;\n}\n\n.multiselect__tag {\n    position: relative;\n    display: inline-block;\n    padding: 4px 26px 4px 10px;\n    border-radius: 5px;\n    margin-right: 10px;\n    color: #fff;\n    line-height: 1;\n    background: #41b883;\n    margin-bottom: 5px;\n    white-space: nowrap;\n    overflow: hidden;\n    max-width: 100%;\n    text-overflow: ellipsis;\n}\n\n.multiselect__tag-icon {\n    cursor: pointer;\n    margin-left: 7px;\n    position: absolute;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    font-weight: 700;\n    font-style: initial;\n    width: 22px;\n    text-align: center;\n    line-height: 22px;\n    transition: all 0.2s ease;\n    border-radius: 5px;\n}\n\n.multiselect__tag-icon:after {\n    content: \"Ã—\";\n    color: #266d4d;\n    font-size: 14px;\n}\n\n.multiselect__tag-icon:focus,\n.multiselect__tag-icon:hover {\n    background: #369a6e;\n}\n\n.multiselect__tag-icon:focus:after,\n.multiselect__tag-icon:hover:after {\n    color: white;\n}\n\n.multiselect__current {\n    line-height: 16px;\n    min-height: 40px;\n    box-sizing: border-box;\n    display: block;\n    overflow: hidden;\n    padding: 8px 12px 0;\n    padding-right: 30px;\n    white-space: nowrap;\n    margin: 0;\n    text-decoration: none;\n    border-radius: 5px;\n    border: 1px solid #e8e8e8;\n    cursor: pointer;\n}\n\n.multiselect__select {\n    line-height: 16px;\n    display: block;\n    position: absolute;\n    box-sizing: border-box;\n    width: 40px;\n    height: 38px;\n    right: 1px;\n    top: 1px;\n    padding: 4px 8px;\n    margin: 0;\n    text-decoration: none;\n    text-align: center;\n    cursor: pointer;\n    transition: transform 0.2s ease;\n}\n\n.multiselect__select:before {\n    position: relative;\n    right: 0;\n    top: 65%;\n    color: #999;\n    margin-top: 4px;\n    border-style: solid;\n    border-width: 5px 5px 0 5px;\n    border-color: #999999 transparent transparent transparent;\n    content: \"\";\n}\n\n.multiselect__placeholder {\n    color: #adadad;\n    display: inline-block;\n    margin-bottom: 10px;\n    padding-top: 2px;\n}\n\n.multiselect&#45;&#45;active .multiselect__placeholder {\n    display: none;\n}\n\n.multiselect__content-wrapper {\n    position: absolute;\n    display: block;\n    background: #fff;\n    width: 100%;\n    max-height: 240px;\n    overflow: auto;\n    border: 1px solid #e8e8e8;\n    border-top: none;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    z-index: 50;\n    -webkit-overflow-scrolling: touch;\n}\n\n.multiselect__content {\n    list-style: none;\n    display: inline-block;\n    padding: 0;\n    margin: 0;\n    min-width: 100%;\n    vertical-align: top;\n}\n\n.multiselect&#45;&#45;above .multiselect__content-wrapper {\n    bottom: 100%;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    border-bottom: none;\n    border-top: 1px solid #e8e8e8;\n}\n\n.multiselect__content::webkit-scrollbar {\n    display: none;\n}\n\n.multiselect__element {\n    display: block;\n}\n\n.multiselect__option {\n    display: block;\n    padding: 12px;\n    min-height: 40px;\n    line-height: 16px;\n    text-decoration: none;\n    text-transform: none;\n    vertical-align: middle;\n    position: relative;\n    cursor: pointer;\n    white-space: nowrap;\n}\n\n.multiselect__option:after {\n    top: 0;\n    right: 0;\n    position: absolute;\n    line-height: 40px;\n    padding-right: 12px;\n    padding-left: 20px;\n    font-size: 13px;\n}\n\n.multiselect__option&#45;&#45;highlight {\n    background: #41b883;\n    outline: none;\n    color: white;\n}\n\n.multiselect__option&#45;&#45;highlight:after {\n    content: attr(data-select);\n    background: #41b883;\n    color: white;\n}\n\n.multiselect__option&#45;&#45;selected {\n    background: #f3f3f3;\n    color: #35495e;\n    font-weight: bold;\n}\n\n.multiselect__option&#45;&#45;selected:after {\n    content: attr(data-selected);\n    color: silver;\n}\n\n.multiselect__option&#45;&#45;selected.multiselect__option&#45;&#45;highlight {\n    background: #ff6a6a;\n    color: #fff;\n}\n\n.multiselect__option&#45;&#45;selected.multiselect__option&#45;&#45;highlight:after {\n    background: #ff6a6a;\n    content: attr(data-deselect);\n    color: #fff;\n}\n\n.multiselect&#45;&#45;disabled .multiselect__current,\n.multiselect&#45;&#45;disabled .multiselect__select {\n    background: #ededed;\n    color: #a6a6a6;\n}\n\n.multiselect__option&#45;&#45;disabled {\n    background: #ededed !important;\n    color: #a6a6a6 !important;\n    cursor: text;\n    pointer-events: none;\n}\n\n.multiselect__option&#45;&#45;group {\n    background: #ededed;\n    color: #35495e;\n}\n\n.multiselect__option&#45;&#45;group.multiselect__option&#45;&#45;highlight {\n    background: #35495e;\n    color: #fff;\n}\n\n.multiselect__option&#45;&#45;group.multiselect__option&#45;&#45;highlight:after {\n    background: #35495e;\n}\n\n.multiselect__option&#45;&#45;disabled.multiselect__option&#45;&#45;highlight {\n    background: #dedede;\n}\n\n.multiselect__option&#45;&#45;group-selected.multiselect__option&#45;&#45;highlight {\n    background: #ff6a6a;\n    color: #fff;\n}\n\n.multiselect__option&#45;&#45;group-selected.multiselect__option&#45;&#45;highlight:after {\n    background: #ff6a6a;\n    content: attr(data-deselect);\n    color: #fff;\n}\n\n.multiselect-enter-active,\n.multiselect-leave-active {\n    transition: all 0.15s ease;\n}\n\n.multiselect-enter,\n.multiselect-leave-active {\n    opacity: 0;\n}\n\n.multiselect__strong {\n    margin-bottom: 8px;\n    line-height: 20px;\n    display: inline-block;\n    vertical-align: top;\n}\n\n*[dir=\"rtl\"] .multiselect {\n    text-align: right;\n}\n\n*[dir=\"rtl\"] .multiselect__select {\n    right: auto;\n    left: 1px;\n}\n\n*[dir=\"rtl\"] .multiselect__tags {\n    padding: 8px 8px 0px 40px;\n}\n\n*[dir=\"rtl\"] .multiselect__content {\n    text-align: right;\n}\n\n*[dir=\"rtl\"] .multiselect__option:after {\n    right: auto;\n    left: 0;\n}\n\n*[dir=\"rtl\"] .multiselect__clear {\n    right: auto;\n    left: 12px;\n}\n\n*[dir=\"rtl\"] .multiselect__spinner {\n    right: auto;\n    left: 1px;\n}\n\n@keyframes spinning {\n    from {\n        transform: rotate(0);\n    }\n    to {\n        transform: rotate(2turn);\n    }\n}\n</style>-->\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XMultiselect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./XMultiselect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./XMultiselect.vue?vue&type=template&id=9d1d7640\"\nimport script from \"./XMultiselect.vue?vue&type=script&lang=js\"\nexport * from \"./XMultiselect.vue?vue&type=script&lang=js\"\nimport style0 from \"./XMultiselect.vue?vue&type=style&index=0&id=9d1d7640&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoStepAuth.vue?vue&type=style&index=0&id=0d40bacc&prod&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=e873abd8&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('waiter',{ref:\"waiter\"},[_c('ValidationObserver',{ref:\"observer\",scopedSlots:_vm._u([{key:\"default\",fn:function({invalid}){return [_c('action-toolbar',[_c('action-group',{staticClass:\"mr-2\"},[_c('action-back'),_c('action-group-separator'),_c('ValidationProvider',{attrs:{\"rules\":\"required|email\",\"name\":\"email\",\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return _c('action-input',{ref:\"name\",attrs:{\"title\":\"E-email\",\"db-field\":\"u_email\",\"readonly\":_vm.u_id!=='new',\"valid\":valid,\"errors\":errors},model:{value:(_vm.user.u_email),callback:function ($$v) {_vm.$set(_vm.user, \"u_email\", $$v)},expression:\"user.u_email\"}})}}],null,true)}),_c('action-button',{attrs:{\"title\":\"Save\",\"icon\":_vm.$icons.save,\"shortkey\":\"['ctrl', 's']\"},on:{\"action\":_vm.save}}),_c('action-button',{attrs:{\"disabled\":_vm.u_id==='new',\"title\":\"Reload\",\"icon\":_vm.$icons.reload},on:{\"action\":_vm.load}}),_c('action-group-separator'),(_vm.allowEmailSetting)?_c('action-button',{attrs:{\"disabled\":_vm.u_id==='new',\"title\":\"User mailbox\",\"icon\":_vm.$icons.mailbox},on:{\"action\":function($event){return _vm.$refs.mailbox.show()}}}):_vm._e(),_c('action-group-separator'),_c('action-button',{attrs:{\"disabled\":_vm.u_id==='new',\"title\":\"Related reactions\",\"icon\":_vm.$icons.react},on:{\"action\":_vm.onReactions}}),_c('action-download-vcf',{attrs:{\"u_id\":_vm.u_id}})],1)],1),_c('b-tabs',{staticClass:\"x-tabs\"},[_c('b-tab',{ref:\"propertiesTab\",attrs:{\"active\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('icon',{attrs:{\"icon\":_vm.$icons.properties}}),_vm._v(\"\\n                    Properties\\n                \")]},proxy:true}],null,true)},[_c('x-form-input',{attrs:{\"title\":\"User ID\",\"db-field\":\"u_id\",\"readonly\":\"\"},model:{value:(_vm.user.u_id),callback:function ($$v) {_vm.$set(_vm.user, \"u_id\", $$v)},expression:\"user.u_id\"}}),_c('ValidationProvider',{attrs:{\"rules\":\"email\",\"name\":\"alternative email\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return _c('x-form-input',{attrs:{\"aria-autocomplete\":\"none\",\"autocomplete\":\"off\",\"title\":\"Alternative e-mail\",\"db-field\":\"u_alt_email\",\"valid\":valid,\"errors\":errors},model:{value:(_vm.user.u_alt_email),callback:function ($$v) {_vm.$set(_vm.user, \"u_alt_email\", $$v)},expression:\"user.u_alt_email\"}})}}],null,true)}),_c('ValidationProvider',{attrs:{\"rules\":_vm.u_id==='new'?'required|min:6':'min:6',\"name\":\"password\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return _c('x-form-password',{attrs:{\"aria-autocomplete\":\"none\",\"autocomplete\":\"off\",\"valid\":valid,\"errors\":errors,\"title\":\"Password\",\"db-field\":\"u_password\"},model:{value:(_vm.user.u_password),callback:function ($$v) {_vm.$set(_vm.user, \"u_password\", $$v)},expression:\"user.u_password\"}})}}],null,true)}),_c('x-form-group',{attrs:{\"title\":\"2-Step Verification\"}},[_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":_vm.u_id==='new'},domProps:{\"textContent\":_vm._s(_vm.user.is_2fa?'Disable':'Enable')},on:{\"click\":_vm.onProceed2FA}})],1),_c('ValidationProvider',{attrs:{\"rules\":\"required\",\"name\":\"language\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return _c('x-form-select',{attrs:{\"valid\":valid,\"errors\":errors,\"title\":\"Language\",\"options\":_vm.langs,\"db-field\":\"u_lang\",\"allow-empty\":false,\"placeholder\":\"Select language\"},model:{value:(_vm.user.u_lang),callback:function ($$v) {_vm.$set(_vm.user, \"u_lang\", $$v)},expression:\"user.u_lang\"}})}}],null,true)}),_c('x-form-group',{attrs:{\"title\":\"Usergroups\"}},[_c('select-usergroup',{attrs:{\"multiple\":true,\"valueFormat\":\"object\",\"flat\":true},model:{value:(_vm.user.usergroups),callback:function ($$v) {_vm.$set(_vm.user, \"usergroups\", $$v)},expression:\"user.usergroups\"}})],1),_c('x-form-group',{staticClass:\"form-group--input-flex\",attrs:{\"title\":\"DID\",\"db-field\":\"u_did\"}},[_c('span',[_vm._v(_vm._s(_vm.user.u_did))])]),_c('x-form-group',{staticClass:\"form-group--input-flex\",attrs:{\"title\":\"Confirmstring\",\"db-field\":\"u_newsletter_confirmstring\"}},[_c('span',[_vm._v(_vm._s(_vm.user.u_newsletter_confirmstring))])]),_c('x-form-group',{staticClass:\"form-group--input-flex\",attrs:{\"title\":\"Email-bounce\",\"db-field\":\"u_newsletter_count_bounced\"}},[_c('span',[_vm._v(_vm._s(_vm.user.u_newsletter_count_bounced))])])],1),_c('b-tab',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('icon',{attrs:{\"icon\":_vm.$icons.variables}}),_vm._v(\"\\n                    Variables\\n                \")]},proxy:true}],null,true)},[_c('vars-editor',{model:{value:(_vm.user.vars),callback:function ($$v) {_vm.$set(_vm.user, \"vars\", $$v)},expression:\"user.vars\"}})],1)],1)]}}])}),_c('b-modal',{ref:\"modal2fa\",attrs:{\"modal-class\":\"modal-primary modal-2fa\",\"size\":\"md\",\"hide-footer\":\"\",\"centered\":\"\"}}),_c('user-mailbox-aside',{ref:\"mailbox\",attrs:{\"u_id\":_vm.u_id,\"u_email\":_vm.user.u_email},on:{\"\":function($event){}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('action-button',{attrs:{\"disabled\":_vm.u_id==='new',\"title\":\"Download vCard\",\"icon\":_vm.$icons.vcf},on:{\"action\":_vm.downdload}},[_c('iframe',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"invisible\",\"src\":_vm.src}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <action-button :disabled=\"u_id==='new'\"\n                   title=\"Download vCard\"\n                   :icon=\"$icons.vcf\"\n                   @action=\"downdload\">\n        <iframe id=\"invisible\" style=\"display:none;\" :src=\"src\"></iframe>\n    </action-button>\n</template>\n\n<script>\nimport users from '@/services/api/users'\n\nexport default {\n    name: 'ActionDownloadVcf',\n    props: {\n        u_id: {\n            requared: true,\n        }\n    },\n    data() {\n        return {\n            src: null,\n            cache: 0,\n        }\n    },\n    methods: {\n        downdload() {\n            this.cache++\n            this.src = `/api/users/downloadUserVCF?u_id=${this.u_id}&cache=${this.cache}`\n        }\n    }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionDownloadVcf.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionDownloadVcf.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActionDownloadVcf.vue?vue&type=template&id=3792afd0&scoped=true\"\nimport script from \"./ActionDownloadVcf.vue?vue&type=script&lang=js\"\nexport * from \"./ActionDownloadVcf.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3792afd0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('aside-panel',{ref:\"modal\",staticClass:\"user-mailbox-aside\",scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('action-button',{attrs:{\"title\":\"Save\",\"icon\":_vm.$icons.save},on:{\"action\":() => _vm.save(true)}})]},proxy:true}])},[_c('waiter',{ref:\"waiter\"},[_c('ValidationObserver',{ref:\"observer\",scopedSlots:_vm._u([{key:\"default\",fn:function({invalid}){return [_c('div',{staticClass:\"user-mailbox-aside__body\"},[_c('b-card',{staticClass:\"my-3\"},[_c('x-form-fieldset',{attrs:{\"title\":`Mailbox of ${_vm.u_email} (IMAP/POP)`}},[_c('div',{staticClass:\"d-flex align-items-start\"},[_c('x-form-switch',{attrs:{\"value\":_vm.mailbox.is_popbox,\"label-cols-sm\":0,\"label-cols-lg\":0},on:{\"change\":_vm.onChangeMailbox}})],1),(_vm.mailbox.is_popbox)?[_c('ValidationProvider',{ref:\"emailPassProvider\",attrs:{\"vid\":\"emailPassProvider\",\"rules\":\"min:8\",\"name\":\"password\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return _c('x-form-password',{attrs:{\"valid\":valid,\"errors\":errors,\"title\":\"Password\",\"db-field\":\"\"},model:{value:(_vm.mailbox.password),callback:function ($$v) {_vm.$set(_vm.mailbox, \"password\", $$v)},expression:\"mailbox.password\"}})}}],null,true)}),_c('x-form-group',[_c('action-link',{staticClass:\"d-inline-flex\",attrs:{\"title\":\"Open mailbox\",\"disabled\":_vm.isNewMailbox,\"target\":\"_blank\",\"icon\":_vm.$icons.external_link,\"href\":_vm.webmailUrl}},[_c('span',{staticClass:\"ml-2\",staticStyle:{\"margin-top\":\"3px\"}},[_vm._v(\"View in webmail-client\")])])],1)]:_vm._e()],2),_c('hr'),_c('x-form-fieldset',{attrs:{\"title\":\"Redirect email to another recipient\"}},[_c('x-form-group',{attrs:{\"title\":\"Forward to\"}},[_c('forward-to',{attrs:{\"aliases\":_vm.aliases,\"user-email\":_vm.u_email},on:{\"update:aliases\":function($event){_vm.aliases=$event}},model:{value:(_vm.mailbox.mailboxdest),callback:function ($$v) {_vm.$set(_vm.mailbox, \"mailboxdest\", $$v)},expression:\"mailbox.mailboxdest\"}})],1)],1)],1)],1)]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('x-multiselect',_vm._g(_vm._b({attrs:{\"value\":_vm.value,\"options\":_vm.aliases,\"taggable\":true,\"label\":\"name\",\"track-by\":\"name\",\"multiple\":true,\"tag-placeholder\":\"Add this as new email\",\"placeholder\":\"Search or add a new email\"},on:{\"tag\":_vm.addTag,\"input\":_vm.onInput}},'x-multiselect',_vm.$attrs,false),_vm.$listeners))\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <x-multiselect\n        v-bind=\"$attrs\"\n        :value=\"value\"\n        v-on=\"$listeners\"\n        :options=\"aliases\"\n        :taggable=\"true\"\n        label=\"name\"\n        track-by=\"name\"\n        :multiple=\"true\"\n        @tag=\"addTag\"\n        @input=\"onInput\"\n        tag-placeholder=\"Add this as new email\"\n        placeholder=\"Search or add a new email\"></x-multiselect>\n</template>\n\n<script>\nimport XMultiselect from '@/components/XMultiselect'\n\nexport default {\n    name: 'ForwardTo',\n    components: {XMultiselect},\n    props: {\n        aliases: {\n            type: Array,\n            default() {\n                return []\n            }\n        },\n        value: {\n            type: Array,\n            required: true\n        },\n        userEmail: {\n            type: String,\n            default: ''\n        }\n    },\n    computed: {},\n    methods: {\n        addTag(newTag) {\n            // Validate that the new tag is not the same as the user's email\n            if (this.userEmail && newTag.toLowerCase() === this.userEmail.toLowerCase()) {\n                this.$awn.warning(`Cannot forward to the same address: ${newTag}`);\n                return;\n            }\n\n            // Check if email already exists in the list\n            const existingEmail = this.value.find(item =>\n                item.name && item.name.toLowerCase() === newTag.toLowerCase()\n            );\n\n            if (existingEmail) {\n                this.$awn.warning(`Email ${newTag} is already in the forward list`);\n                return;\n            }\n\n            const tag = {\n                name: newTag,\n            }\n            this.aliases.push(tag)\n            this.value.push(tag)\n        },\n\n        onInput(selectedValues) {\n            // Filter out any selections that match the user's email\n            if (this.userEmail && selectedValues) {\n                const filteredValues = selectedValues.filter(item => {\n                    const isUserEmail = item.name && item.name.toLowerCase() === this.userEmail.toLowerCase();\n                    if (isUserEmail) {\n                        this.$awn.warning(`Cannot forward to the same address: ${item.name}`);\n                        return false;\n                    }\n                    return true;\n                });\n\n                // Only emit if the filtered values are different\n                if (filteredValues.length !== selectedValues.length) {\n                    this.$emit('input', filteredValues);\n                    return;\n                }\n            }\n\n            // Emit the original values if no filtering was needed\n            this.$emit('input', selectedValues);\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"src/assets/scss/vue-component\";\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForwardTo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForwardTo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ForwardTo.vue?vue&type=template&id=4deab4ad&scoped=true\"\nimport script from \"./ForwardTo.vue?vue&type=script&lang=js\"\nexport * from \"./ForwardTo.vue?vue&type=script&lang=js\"\nimport style0 from \"./ForwardTo.vue?vue&type=style&index=0&id=4deab4ad&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4deab4ad\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <aside-panel\n        class=\"user-mailbox-aside\"\n        ref=\"modal\">\n        <template #actions>\n            <action-button\n                title=\"Save\"\n                :icon=\"$icons.save\"\n                @action=\"() => save(true)\">\n            </action-button>\n\n        </template>\n        <waiter ref=\"waiter\">\n            <ValidationObserver ref=\"observer\" v-slot=\"{invalid}\">\n                <div class=\"user-mailbox-aside__body\">\n                    <b-card class=\"my-3\">\n                        <x-form-fieldset\n                            :title=\"`Mailbox of ${u_email} (IMAP/POP)`\">\n\n                            <div class=\"d-flex align-items-start\">\n                                <x-form-switch\n                                    :value=\"mailbox.is_popbox\"\n                                    :label-cols-sm=\"0\"\n                                    :label-cols-lg=\"0\"\n                                    @change=\"onChangeMailbox\">\n                                </x-form-switch>\n                            </div>\n                            <template v-if=\"mailbox.is_popbox\">\n                                <ValidationProvider\n                                    vid=\"emailPassProvider\"\n                                    ref=\"emailPassProvider\"\n                                    rules=\"min:8\"\n                                    name=\"password\">\n                                    <x-form-password\n                                        slot-scope=\"{ valid, errors }\"\n                                        :valid=\"valid\"\n                                        :errors=\"errors\"\n                                        title=\"Password\"\n                                        db-field=\"\"\n                                        v-model=\"mailbox.password\"\n                                    >\n                                    </x-form-password>\n                                </ValidationProvider>\n                                <x-form-group>\n                                    <action-link\n                                        class=\"d-inline-flex\"\n                                        title=\"Open mailbox\"\n                                        :disabled=\"isNewMailbox\"\n                                        target=\"_blank\"\n                                        :icon=\"$icons.external_link\"\n                                        :href=\"webmailUrl\">\n                                        <span class=\"ml-2\" style=\"margin-top: 3px\">View in webmail-client</span>\n                                    </action-link>\n                                </x-form-group>\n                            </template>\n\n\n                        </x-form-fieldset>\n                        <hr>\n                        <x-form-fieldset\n                            title=\"Redirect email to another recipient\">\n\n                            <x-form-group\n                                title=\"Forward to\">\n                                <forward-to\n                                    v-model=\"mailbox.mailboxdest\"\n                                    :aliases.sync=\"aliases\"\n                                    :user-email=\"u_email\">\n                                </forward-to>\n                            </x-form-group>\n                            <!-- Send mail to usergroup section hidden as requested -->\n                            <!-- <x-form-switch\n                                title=\"Send mail to usergroup\"\n                                v-model=\"mailbox.is_maillisting_dest\"\n                                values=\"boolean\">\n                            </x-form-switch>\n                            <div v-show=\"mailbox.is_maillisting_dest\">\n                                <x-form-group>\n                                    <x-form-fieldset title=\"Usergroups\">\n                                        <x-form-group\n                                            label-cols-sm=\"4\"\n                                            label-cols-lg=\"3\"\n                                            title=\"Members usergroup\">\n                                            <ValidationProvider\n                                                vid=\"mUsergroupProvider\"\n                                                ref=\"mUsergroupProvider\"\n                                                name=\"usergroup\"\n                                            >\n                                                <div slot-scope=\"{ valid, errors }\">\n                                                    <select-usergroup\n                                                        id=\"maillisting_usergroup\"\n                                                        v-model=\"mailbox.maillisting_usergroup\">\n                                                    </select-usergroup>\n                                                    <div class=\"invalid-feedback\" style=\"display: block\"\n                                                         v-if=\"errors.length > 0\">\n                                                        {{ errors[0] }}\n                                                    </div>\n                                                </div>\n                                            </ValidationProvider>\n                                        </x-form-group>\n                                        <x-form-group\n                                            label-cols-sm=\"4\"\n                                            label-cols-lg=\"3\"\n                                            title=\"Moderators usergroup\">\n                                            <select-usergroup id=\"maillisting_moderatorgroup\"\n                                                              v-model=\"mailbox.maillisting_moderatorgroup\"></select-usergroup>\n                                        </x-form-group>\n                                    </x-form-fieldset>\n                                </x-form-group>\n                            </div> -->\n                        </x-form-fieldset>\n                    </b-card>\n                </div>\n            </ValidationObserver>\n        </waiter>\n    </aside-panel>\n</template>\n\n<script>\n\nimport AsidePanel from '@/components/containers/components/AsidePanel'\nimport XMultiselect from '@/components/XMultiselect'\n\nimport users from '@/services/api/users'\nimport ForwardTo from '@/views/users/parties/ForwardTo'\n\nexport default {\n    name: 'UserMailboxAside',\n    components: {ForwardTo, AsidePanel, XMultiselect},\n    props: {\n        u_id: {\n            required: true\n        },\n        u_email: {\n            required: true\n        }\n    },\n    data() {\n        return {\n            isNewMailbox: true,\n            mailbox: {\n                password: ''\n            },\n            aliases: [],\n        }\n    },\n    computed: {\n        webmailUrl() {\n            if (!this.u_email) {\n                return '#';\n            }\n\n            // Extract domain from email address\n            const emailParts = this.u_email.split('@');\n            if (emailParts.length !== 2) {\n                return '#';\n            }\n\n            const domain = emailParts[1];\n            return `https://mail.${domain}/webmail/?_user=${this.u_email}`;\n        }\n    },\n    methods: {\n\n        async show() {\n            this.$refs.modal.show()\n            this.isNewMailbox = true\n            await this.load()\n        },\n\n        async onChangeMailbox(value) {\n            try {\n                if (value === 1 || value === true) {\n                    // Enabling mailbox - just update local state\n                    this.mailbox.is_popbox = true;\n                    return;\n                }\n\n                // If disabling mailbox\n                if (this.isNewMailbox) {\n                    // For new mailbox, just update local state\n                    this.mailbox.is_popbox = false;\n                    return;\n                }\n\n                // For existing mailbox, show warning and confirm deletion\n                let response = await this.$dialogs.confirmDelete({\n                    okTitle: 'CONFIRM',\n                    title: 'Disable Mailbox',\n                    message: `Are you sure you want to disable the mailbox for ${this.u_email}? This will delete all emails and cannot be undone. Click Save to apply changes.`\n                });\n\n                if (response.trigger !== 'ok') {\n                    // User cancelled, keep mailbox enabled\n                    this.$nextTick(() => {\n                        this.mailbox.is_popbox = true;\n                    });\n                    return;\n                }\n\n                // User confirmed - just update local state, actual deletion happens on save\n                this.mailbox.is_popbox = false;\n\n            } catch (error) {\n                // Handle errors\n                console.error('Error updating mailbox state:', error);\n                this.$awn.alert('Failed to update mailbox state. Please try again.');\n\n                // Revert the change on error\n                this.$nextTick(() => {\n                    this.mailbox.is_popbox = !value;\n                });\n            }\n        },\n        async load() {\n            console.log('ðŸ”„ Loading mailbox data for user:', this.u_id, 'email:', this.u_email);\n\n            let data = await this.$refs.waiter.wait(users.getUserMailbox({u_id: this.u_id}))\n\n            console.log('ðŸ“¥ Raw data received from API:', data);\n\n            if (data.aliases) {\n                console.log('ðŸ“§ Aliases found:', data.aliases);\n                this.aliases = data.aliases\n            }\n            if (data && data.mailbox) {\n                console.log('ðŸ“® Mailbox data found:', data.mailbox);\n                console.log('ðŸ“® Original mailboxdest:', data.mailbox.mailboxdest);\n\n                this.mailbox = data.mailbox\n                this.mailbox.password = ''\n\n                // Filter out user's own email from mailboxdest to prevent self-forwarding display\n                if (this.mailbox.mailboxdest && Array.isArray(this.mailbox.mailboxdest)) {\n                    console.log('ðŸ” Before filtering - mailboxdest:', this.mailbox.mailboxdest);\n                    console.log('ðŸ” User email to filter out:', this.u_email);\n\n                    this.mailbox.mailboxdest = this.mailbox.mailboxdest.filter(dest => {\n                        const shouldKeep = dest.name && dest.name.toLowerCase() !== this.u_email.toLowerCase();\n                        console.log(`ðŸ” Checking destination \"${dest.name}\" - Keep: ${shouldKeep}`);\n                        return shouldKeep;\n                    });\n\n                    console.log('âœ… After filtering - mailboxdest:', this.mailbox.mailboxdest);\n                } else {\n                    console.log('âš ï¸ mailboxdest is not an array or is empty:', this.mailbox.mailboxdest);\n                }\n            } else {\n                console.log('âš ï¸ No mailbox data found in response');\n            }\n            if (this.mailbox.is_popbox) {\n                console.log('ðŸ“® Mailbox is enabled (is_popbox = true)');\n                this.isNewMailbox = false\n            } else {\n                console.log('ðŸ“® Mailbox is disabled (is_popbox = false)');\n            }\n        },\n        async save(showNotification = false) {\n            let isValid = await this.$refs.observer.validate()\n            if (!isValid) return\n\n            if (this.mailbox.is_popbox && this.isNewMailbox && this.mailbox.password.length === 0) {\n                this.$refs.observer.setErrors({\n                    emailPassProvider: ['Password filed is required for create mailbox.'],\n                });\n                return\n            }\n\n            if (this.mailbox['is_maillisting_dest'] && !this.mailbox['maillisting_usergroup']) {\n                this.$refs.observer.setErrors({\n                    mUsergroupProvider: ['Usergroup is required.'],\n                });\n                return\n            }\n\n            console.log('ðŸ’¾ Saving mailbox data:', {\n                u_id: this.u_id,\n                mailbox: this.mailbox,\n                mailboxdest: this.mailbox.mailboxdest\n            });\n\n            try {\n                await this.$refs.waiter.wait(\n                    users.saveUserMailbox({u_id: this.u_id, mailbox: this.mailbox})\n                )\n\n                console.log('âœ… Save completed, reloading data...');\n\n                // Reload data after successful save to get updated forward destinations\n                await this.load();\n\n                this.isNewMailbox = false\n\n                // Show notification when explicitly requested (manual save button)\n                if (showNotification) {\n                    if (this.mailbox.is_popbox) {\n                        this.$awn.success(`Mailbox enabled and settings saved for ${this.u_email}`);\n                    } else {\n                        this.$awn.warning(`Mailbox disabled and settings saved for ${this.u_email}`);\n                    }\n                }\n            } catch (error) {\n                console.error('âŒ Error saving mailbox:', error);\n\n                // Display server validation error message\n                if (error.response && error.response.data && error.response.data.message) {\n                    this.$awn.alert(error.response.data.message);\n                } else if (error.message) {\n                    this.$awn.alert(error.message);\n                } else {\n                    this.$awn.alert('Failed to save mailbox settings. Please try again.');\n                }\n\n                // If it's a password validation error, also set form validation\n                if (error.response && error.response.data && error.response.data.message &&\n                    error.response.data.message.includes('password')) {\n                    this.$refs.observer.setErrors({\n                        emailPassProvider: [error.response.data.message],\n                    });\n                }\n            }\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"src/assets/scss/vue-component\";\n\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMailboxAside.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMailboxAside.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserMailboxAside.vue?vue&type=template&id=2bc7d85c&scoped=true\"\nimport script from \"./UserMailboxAside.vue?vue&type=script&lang=js\"\nexport * from \"./UserMailboxAside.vue?vue&type=script&lang=js\"\nimport style0 from \"./UserMailboxAside.vue?vue&type=style&index=0&id=2bc7d85c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bc7d85c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('dialog-modal',_vm._b({ref:\"modal\",attrs:{\"modal-class\":\"two-factors-setup-dialog\",\"size\":\"md\",\"hide-footer\":\"\",\"title\":\"Set up Authenticator\"},on:{\"hide\":_vm.onModalHide,\"hidden\":_vm.onModalHidden}},'dialog-modal',_vm.$dialogsProps,false),[_c('two-step-auth',{attrs:{\"hide-header\":\"true\",\"u_id\":_vm.u_id},on:{\"done\":_vm.onDone}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <dialog-modal modal-class=\"two-factors-setup-dialog\"\n                  size=\"md\"\n                  hide-footer\n                  title=\"Set up Authenticator\"\n                  v-bind=\"$dialogsProps\"\n                  @hide=\"onModalHide\"\n                  @hidden=\"onModalHidden\"\n                  ref=\"modal\">\n        <two-step-auth hide-header=\"true\" :u_id=\"u_id\" @done=\"onDone\"></two-step-auth>\n    </dialog-modal>\n</template>\n\n<script>\n\nimport withBModal from \"@modules/dialogs/mixins/withBModal\";\nimport TwoStepAuth from \"@/components/statefull/TwoStepAuth.vue\";\n\nexport default {\n    name: \"TwoFactorsSetupDialog\",\n    mixins: [withBModal],\n    components: {TwoStepAuth},\n    props: {\n        u_id: null,\n    },\n    methods: {\n        onDone() {\n            this.ok()\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoFactorsSetupDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoFactorsSetupDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TwoFactorsSetupDialog.vue?vue&type=template&id=ec86cac4\"\nimport script from \"./TwoFactorsSetupDialog.vue?vue&type=script&lang=js\"\nexport * from \"./TwoFactorsSetupDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <waiter ref=\"waiter\">\n        <ValidationObserver ref=\"observer\" v-slot=\"{invalid}\">\n            <action-toolbar>\n                <action-group class=\"mr-2\">\n                    <action-back></action-back>\n                    <action-group-separator></action-group-separator>\n                    <ValidationProvider rules=\"required|email\" name=\"email\" slim>\n                        <action-input\n                            ref=\"name\"\n                            slot-scope=\"{ valid, errors }\"\n                            title=\"E-email\"\n                            v-model=\"user.u_email\"\n                            db-field=\"u_email\"\n                            :readonly=\"u_id!=='new'\"\n                            :valid=\"valid\"\n                            :errors=\"errors\"></action-input>\n                    </ValidationProvider>\n                    <action-button title=\"Save\"\n                                   :icon=\"$icons.save\"\n                                   @action=\"save\"\n                                   shortkey=\"['ctrl', 's']\">\n                    </action-button>\n                    <action-button :disabled=\"u_id==='new'\"\n                                   title=\"Reload\"\n                                   :icon=\"$icons.reload\"\n                                   @action=\"load\">\n                    </action-button>\n                    <action-group-separator></action-group-separator>\n                    <action-button\n                        v-if=\"allowEmailSetting\"\n                        :disabled=\"u_id==='new'\"\n                        title=\"User mailbox\"\n                        :icon=\"$icons.mailbox\"\n                        @action=\"$refs.mailbox.show()\">\n                    </action-button>\n                    <action-group-separator></action-group-separator>\n                    <action-button\n                        :disabled=\"u_id==='new'\"\n                        title=\"Related reactions\" :icon=\"$icons.react\"\n                        @action=\"onReactions\">\n                    </action-button>\n                    <action-download-vcf :u_id=\"u_id\"></action-download-vcf>\n                </action-group>\n            </action-toolbar>\n            <b-tabs class=\"x-tabs\">\n                <b-tab ref=\"propertiesTab\" active>\n                    <template #title>\n                        <icon :icon=\"$icons.properties\"></icon>\n                        Properties\n                    </template>\n\n                    <x-form-input\n                        title=\"User ID\"\n                        v-model=\"user.u_id\"\n                        db-field=\"u_id\"\n                        readonly>\n                    </x-form-input>\n\n                    <ValidationProvider rules=\"email\" name=\"alternative email\">\n                        <x-form-input\n                            slot-scope=\"{ valid, errors }\"\n                            aria-autocomplete=\"none\"\n                            autocomplete=\"off\"\n                            title=\"Alternative e-mail\"\n                            v-model=\"user.u_alt_email\"\n                            db-field=\"u_alt_email\"\n                            :valid=\"valid\"\n                            :errors=\"errors\"\n                        />\n                    </ValidationProvider>\n\n                    <ValidationProvider :rules=\"u_id==='new'?'required|min:6':'min:6'\" name=\"password\">\n                        <x-form-password\n                            aria-autocomplete=\"none\"\n                            autocomplete=\"off\"\n                            slot-scope=\"{ valid, errors }\"\n                            :valid=\"valid\"\n                            :errors=\"errors\"\n                            title=\"Password\"\n                            db-field=\"u_password\"\n                            v-model=\"user.u_password\"\n                        />\n                    </ValidationProvider>\n\n                    <x-form-group\n                        title=\"2-Step Verification\">\n                        <b-button variant=\"primary\" :disabled=\"u_id==='new'\"\n                                  v-text=\"user.is_2fa?'Disable':'Enable'\" @click=\"onProceed2FA\"></b-button>\n                    </x-form-group>\n\n                    <ValidationProvider rules=\"required\" name=\"language\">\n                        <x-form-select\n                            slot-scope=\"{ valid, errors }\"\n                            :valid=\"valid\"\n                            :errors=\"errors\"\n                            title=\"Language\"\n                            :options=\"langs\"\n                            v-model=\"user.u_lang\"\n                            db-field=\"u_lang\"\n                            :allow-empty=\"false\"\n                            placeholder=\"Select language\"\n                        />\n                    </ValidationProvider>\n\n                    <x-form-group\n                        title=\"Usergroups\">\n                        <select-usergroup\n                            v-model=\"user.usergroups\"\n                            :multiple=\"true\"\n                            valueFormat=\"object\"\n                            :flat=\"true\">\n                        </select-usergroup>\n                    </x-form-group>\n\n                    <x-form-group\n                        title=\"DID\"\n                        db-field=\"u_did\"\n                        class=\"form-group--input-flex\">\n                        <span>{{ user.u_did }}</span>\n                    </x-form-group>\n\n                    <x-form-group\n                        title=\"Confirmstring\"\n                        db-field=\"u_newsletter_confirmstring\"\n                        class=\"form-group--input-flex\">\n                        <span>{{ user.u_newsletter_confirmstring }}</span>\n                    </x-form-group>\n\n                    <x-form-group\n                        title=\"Email-bounce\"\n                        db-field=\"u_newsletter_count_bounced\"\n                        class=\"form-group--input-flex\">\n                        <span>{{ user.u_newsletter_count_bounced }}</span>\n                    </x-form-group>\n\n                </b-tab>\n                <b-tab>\n                    <template #title>\n                        <icon :icon=\"$icons.variables\"></icon>\n                        Variables\n                    </template>\n                    <vars-editor v-model=\"user.vars\"></vars-editor>\n                </b-tab>\n            </b-tabs>\n        </ValidationObserver>\n        <b-modal modal-class=\"modal-primary modal-2fa\"\n                 size=\"md\"\n                 hide-footer\n                 centered\n                 ref=\"modal2fa\">\n        </b-modal>\n        <!--TODO migrate to $dialogs-->\n        <user-mailbox-aside ref=\"mailbox\" :u_id=\"u_id\" :u_email=\"user.u_email\" @></user-mailbox-aside>\n    </waiter>\n</template>\n\n<script>\n\nimport users from '@/services/api/users'\nimport {R_REACTS_TABLE, R_USER_EDIT} from '@/router/routs'\n\nimport auth from '@/services/api/auth'\nimport ActionDownloadVcf from './parties/ActionDownloadVcf'\nimport UserMailboxAside from './parties/UserMailboxAside'\nimport VarsEditor from \"@/components/Vars/VarsEditor.vue\";\nimport TwoFactorsSetupDialog from \"@/components/dialogs/TwoFactorsSetupDialog.vue\";\n\nexport default {\n    name: 'User',\n    components: {VarsEditor, UserMailboxAside, ActionDownloadVcf},\n    props: {\n        u_id: {\n            required: true,\n            type: null,\n        },\n        ug_id: {\n            required: true,\n            type: null,\n            default: 0\n        },\n    },\n    data() {\n        return {\n            user: {\n                u_email: null,\n                u_lang: 2,\n                vars: [],\n                usergroups: []\n            },\n            emaildata: {\n                is_popbox: false,\n                password: ''\n            },\n            originStatePopbox: false,\n            //TODO load config\n            langs: [\n                {label: 'dutch', id: '1'},\n                {label: 'english', id: '2'},\n                {label: 'russian', id: '3'},\n                {label: 'ukrainian', id: '4'}\n            ],\n        }\n    },\n    computed: {\n        allowEmailSetting() {\n            if (!this.user || !this.user.u_email) return false\n            if (this.u_id === 'new') return false\n            let domain = this.user.u_email.split('@')[1]\n            return this.$store.getters['pages/getMailhosts'].indexOf(domain) > -1\n        }\n    },\n    watch: {\n        u_id(newVal, oldVal) {\n            if (newVal !== oldVal) this.load()\n        }\n    },\n\n    mounted() {\n        this.load()\n        this.$store.dispatch('breadcrumb/updateLast', {label: this.$route.params.u_id})\n    },\n\n    methods: {\n        new() {\n            if (this.ug_id) {\n                if (this.user.usergroups) {\n                    let group = this.$store.state.usergroups.usergroups.find(item => +item.ug_id === +this.ug_id)\n                    if (group) {\n                        this.user.usergroups.push(group)\n                    }\n                }\n            }\n\n            this.$nextTick(() => {\n                this.$refs.name.focus()\n            })\n        },\n\n        async load() {\n            if (this.u_id === 'new') {\n                this.new()\n                return\n            }\n            await this.$refs.waiter.wait(async () => {\n                    this.user = await users.getUser({u_id: this.u_id})\n                }\n            )\n        },\n        async save() {\n            const isValid = await this.$refs.observer.validate()\n\n            if (!isValid) {\n                this.$refs.propertiesTab.activate()\n                return\n            }\n\n            await this.$refs.waiter.wait(async () => {\n                    let response = await users.saveUser(this.user)\n                    if (this.u_id === 'new') {\n                        await this.$router.replace({\n                            name: R_USER_EDIT,\n                            params: {\n                                u_id: response.u_id,\n                                ug_id: this.ug_id\n                            },\n                            query: this.$route.query\n                        })\n                    } else {\n                        await this.load()\n                    }\n                }\n            )\n        },\n\n        async onProceed2FA() {\n            if (this.user.is_2fa) {\n                const event = await this.$dialogs.confirm({\n                    //variant: 'danger',\n                    okTitle: 'DISABLE',\n                    message: 'Are you sure want to disable 2-Step Verification?'\n                })\n                if (event.trigger !== 'ok') return\n                await auth.disable2FA({u_id: this.u_id})\n                this.user.is_2fa = false\n            } else {\n                const response = await this.$dialogs.show(TwoFactorsSetupDialog, {\n                    u_id: this.u_id\n                })\n                if (response.trigger !== 'ok') return\n                this.user.is_2fa = true\n            }\n        },\n\n        onReactions() {\n            this.$router.push({\n                name: R_REACTS_TABLE,\n                params: {backRoute: true},\n                query: {react_user_email: this.user.u_email}  // Back to email-based filtering\n            })\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-2fa {\n    .modal-body {\n        padding: 0;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=e873abd8&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=e873abd8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e873abd8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}